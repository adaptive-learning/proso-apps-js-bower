{"version":3,"file":"proso-apps-all.min.js","sources":["proso-apps-all.js"],"names":["obj2get","obj","prefix","ignore_prefix_keys","str","key","hasOwnProperty","indexOf","encodeURIComponent","angular","module","value","window","gettext","x","filter","msgid","run","gettextCatalog","setStrings","Appropriate","Close","Did you find a bug in the app? Do you have an improvement idea? Or any other comment? We are eager to hear anything you'd like to tell us.","Don't know / Don't want to rate","E-mail","How difficult are the questions?","Password","Password again","Registration was successful. You can continue to use the application.","Send","Sign In","Sign Up","Something wrong has happened.","Thank you for the message. User feedback is very important for us.","Thank you for your rating.","Too difficult","Too easy","Username","Write to us","Your e-mail address (optional)","and get all the benefits of registered users.","via E-mail","via Facebook","via Google","configServiceLoaded","m","factory","$http","$window","$cookieStore","configService","self","this","config","getConfig","appName","defaultValue","variable","overridden","isDebug","console","log","error","path","split","i","length","debug","loadConfig","get","success","response","processConfig","data","copy","override","$","isNumeric","parseFloat","put","removeOverridden","resetOverridden","getOverridden","$httpProvider","interceptors","push","$injector","request","has","url","match","loggingServiceLoaded","loggingService","debugLog","debugLogListeners","getDebugLog","extendDebugLog","events","forEach","e","listener","addDebugLogListener","Object","debug_log","controller","$scope","$cookies","$timeout","date","Date","opened","loggingOpened","unshift","$watch","n","o","addToOverride","name","keys","k","directive","restrict","templateUrl","$modal","link","element","attrs","feedback","email","text","openFeedback","open","ModalFeedbackCtrl","size","resolve","$modalInstance","$location","alerts","send","page","absUrl","defaults","headers","post","csrftoken","type","msg","getString","sending","closeAlert","index","splice","cancel","dismiss","bind","$rootScope","$on","event","args","vote","answer","service","$q","queue","deferredFC","promiseResolvedTmp","currentFC","answerQueue","current","setId","summary","contexts","loadingFlashcards","initSet","configName","set_length","fc_queue_size_max","fc_queue_size_min","save_answer_immediately","cache_context","setFilter","flushAnswerQueue","clearQueue","flashcards","answers","correct","count","categories","types","extend","getCurrent","saveAnswer","farceSave","time","now","flashcard_id","flashcard_answered_id","time_gap","Math","round","saveAnswerToCurrentFC","answeredFCId","responseTime","meta","id","response_time","direction","options","option_ids","getFlashcard","reject","defer","_resolvePromise","promise","then","preloadFlashcards","_loadFlashcards","getFCQueue","getAnswerQueue","getSummary","s","min","flashcard","limit","avoid","fc","Array","JSON","stringify","without_contexts","params","request_in_set","concat","_loadContexts","context_id","context","shift","filters","addGroup","language","addGroupParams","getStats","mastered","username","getStatsPost","clean","getGroups","status","logged","loading","user","update","sessionUpdated","init","signup","_resetError","_processUser","signupParams","pass","pass2","firstName","lastName","password","password_check","first_name","last_name","getUserProfile","stats","loadUser","processUser","profile","send_emails","public","updateSession","login","logout","clearObj","prop","loadUserFromJS","scope","$apply","loadSession","session","locale","navigator","userLanguage","browserLanguage","display_height","innerHeight","display_width","innerWidth","time_zone","jstz","determine","err","updateProfile","loginGoogle","_openPopup","loginFacebook","next","settings","signupModal","userService","$analytics","credentials","eventTrack","category","label","loginEmail","onError","openSignupModal","loginModal","$templateCache","$$csp","document","find","prepend"],"mappings":"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","sourcesContent":["/*\n * proso-apps-js\n * Version: 1.0.0 - 2015-07-07\n * License: MIT\n */\nangular.module(\"proso.apps\", [\"proso.apps.tpls\", \"proso.apps.common-config\",\"proso.apps.common-logging\",\"proso.apps.common-toolbar\",\"proso.apps.feedback-comment\",\"proso.apps.feedback-rating\",\"proso.apps.flashcards-practice\",\"proso.apps.flashcards-userStats\",\"proso.apps.gettext\",\"proso.apps.user-user\",\"proso.apps.user-login\"]);\nangular.module(\"proso.apps.tpls\", [\"templates/common-toolbar/toolbar.html\",\"templates/feedback-comment/comment.html\",\"templates/feedback-rating/rating.html\",\"templates/user-login/login-modal.html\",\"templates/user-login/signup-modal.html\"]);\nangular.module(\"proso.apps.gettext\", [])\n.value(\"gettext\", window.gettext || function(x){return x;})\n.filter(\"trans\", [\"gettext\", function(gettext) {\n    return function(msgid) {\n        return gettext(msgid);\n    };\n}]);\nangular.module('gettext').run(['gettextCatalog', function (gettextCatalog) {\n/* jshint -W100 */\n    gettextCatalog.setStrings('cs', {\"Appropriate\":\"Tak akorát\",\"Close\":\"Zavřít\",\"Did you find a bug in the app? Do you have an improvement idea? Or any other comment? We are eager to hear anything you'd like to tell us.\":\"Narazili jste na chybu v aplikaci? Máte nápad na vylepšení? Nebo jakýkoliv jiný postřeh či komentář? Zajímá nás všechno, co nám chcete sdělit.\",\"Don't know / Don't want to rate\":\"Nevím / Nechci hodnotit\",\"E-mail\":\"E-mail\",\"How difficult are the questions?\":\"Jak těžké se vám zdají otázky?\",\"Password\":\"Heslo\",\"Password again\":\"Heslo znovu\",\"Registration was successful. You can continue to use the application.\":\"Registrace proběhla úspěšně. Můžete pokračovat v používání aplikace.\",\"Send\":\"Odeslat\",\"Sign In\":\"Přihlásit se\",\"Sign Up\":\"Zaregistrovat se\",\"Something wrong has happened.\":\"V aplikaci nastala chyba.\",\"Thank you for the message. User feedback is very important for us.\":\"Děkujeme Vám za zaslané informace. Feedback od uživatelů je k nezaplacení.\",\"Thank you for your rating.\":\"Děkujeme za vaše hodnocení.\",\"Too difficult\":\"Příliš těžké\",\"Too easy\":\"Příliš lehké\",\"Username\":\"Uživatelské jméno\",\"Write to us\":\"Napište nám\",\"Your e-mail address (optional)\":\"Váš e-mail (nepovinné)\",\"and get all the benefits of registered users.\":\"a získejte všechny výhody registrovaných uživatelů.\",\"via E-mail\":\"přes E-mail\",\"via Facebook\":\"přes Facebook\",\"via Google\":\"přes Google\"});\n    gettextCatalog.setStrings('en', {\"Did you find a bug in the app? Do you have an improvement idea? Or any other comment? We are eager to hear anything you'd like to tell us.\":\"Did you find a bug in the app? Do you have an improvement idea? Or any other comment? We are eager to hear anything you'd like to tell us.\",\"Don't know / Don't want to rate\":\"Don't know / Don't want to rate\",\"E-mail\":\"E-mail\",\"How difficult are the questions?\":\"How difficult are the questions?\",\"Password\":\"Password\",\"Password again\":\"Password again\",\"Registration was successful. You can continue to use the application.\":\"Registration was successful. You can continue to use the application.\",\"Send\":\"Send\",\"Sign In\":\"Sign In\",\"Sign Up\":\"Sign Up\",\"Something wrong has happened.\":\"Something wrong has happened.\",\"Thank you for the message. User feedback is very important for us.\":\"Thank you for the message. User feedback is very important for us.\",\"Thank you for your rating.\":\"Thank you for your rating.\",\"Too difficult\":\"Too difficult\",\"Too easy\":\"Too easy\",\"Username\":\"Username\",\"Write to us\":\"Write to us\",\"Your e-mail address (optional)\":\"Your e-mail address (optional)\",\"and get all the benefits of registered users.\":\"and get all the benefits of registered users.\",\"via E-mail\":\"via E-mail\",\"via Facebook\":\"via Facebook\",\"via Google\":\"via Google\"});\n    gettextCatalog.setStrings('es', {\"Appropriate\":\"Adecuado\",\"Close\":\"Cerrar\",\"Did you find a bug in the app? Do you have an improvement idea? Or any other comment? We are eager to hear anything you'd like to tell us.\":\"¿Encontraste algún error en el programa? ¿Tienes alguna sugerencia sobre como podemos mejorar? ¿Quieres compartir tu opinión con nosotros? Nos gustaría escuchar lo que tengas que decir.\",\"Don't know / Don't want to rate\":\"No sé/No quiero calificar\",\"E-mail\":\"E-mail\",\"How difficult are the questions?\":\"¿Qué tan difíciles son estas preguntas?\",\"Password\":\"Contraseña\",\"Password again\":\"Contraseña de nuevo\",\"Registration was successful. You can continue to use the application.\":\"Registro exitoso. Puedes continuar usando la aplicación.\",\"Send\":\"Enviar\",\"Sign In\":\"Iniciar sesión\",\"Sign Up\":\"Registrarse\",\"Something wrong has happened.\":\"Algo malo ha ocurrido.\",\"Thank you for the message. User feedback is very important for us.\":\"Gracias por tu mensaje. Tu opinión es muy importante para nosotros.\",\"Thank you for your rating.\":\"Gracias por calificarnos.\",\"Too difficult\":\"Muy dificil\",\"Too easy\":\"Muy facil\",\"Username\":\"Nombre de usuario\",\"Write to us\":\"Sugerencias\",\"Your e-mail address (optional)\":\"Tu e-mail (opcional)\",\"and get all the benefits of registered users.\":\"y accede a todos los benecifios de un usuario registrado.\",\"via E-mail\":\"con E-mail\",\"via Facebook\":\"con Facebook\",\"via Google\":\"con Google\"});\n/* jshint +W100 */\n}]);\nvar configServiceLoaded;\nif (configServiceLoaded){\n    throw \"ConfigService already loaded\";\n}\nconfigServiceLoaded = true;\n\nfunction obj2get(obj, prefix, ignore_prefix_keys){\n    var str = \"\";\n    for (var key in obj) {\n        if (obj.hasOwnProperty(key)) {\n            if (str !== \"\") {\n                str += \"&\";\n            }\n            if (ignore_prefix_keys.indexOf(key) === -1){\n                str += prefix;\n            }\n            str += key + \"=\" + encodeURIComponent(obj[key]);\n        }\n    }\n    return str;\n}\n\nvar m = angular.module('proso.apps.common-config', ['ngCookies']);\n\nm.factory(\"configService\", [\"$http\", \"$window\", \"$cookieStore\", function($http, $window, $cookieStore){\n    if (!!$window.configService){\n        return $window.configService;\n    }\n\n    var self = this;\n    var config = null;\n\n    self.getConfig = function (appName, key, defaultValue) {\n        var variable = null;\n        if (typeof overridden[appName + \".\" + key] !== 'undefined') {\n            variable = overridden[appName + \".\" + key];\n            if (self.isDebug()) {\n                console.log(appName + \".\" + key, \"overridden\", variable);\n            }\n            return variable;\n        }\n\n        if (config === null) {\n            console.error(\"Config not loaded\");\n            return;\n        }\n\n        variable = config[appName];\n        var path = key.split(\".\");\n        for (var i = 0; i < path.length; i++) {\n            if (typeof variable === 'undefined') {\n                if (self.isDebug()) {\n                    console.log(appName + \".\" + key, \"use default\", defaultValue);\n                }\n                return defaultValue;\n            }\n            variable = variable[path[i]];\n        }\n        if (typeof variable === 'undefined') {\n            if (self.isDebug()) {\n                console.log(appName + \".\" + key, \"use default\", defaultValue);\n            }\n            return defaultValue;\n        }\n        if (self.isDebug()) {\n            console.log(appName + \".\" + key, \"from config\", variable);\n        }\n        return variable;\n    };\n\n    self.isDebug = function() {\n        return overridden.debug === true;\n    };\n\n    self.loadConfig = function () {\n        return $http.get(\"/common/config/\")\n            .success(function (response) {\n                self.processConfig(response.data);\n            })\n            .error(function () {\n                console.error(\"Problem while loading config from server\");\n            });\n    };\n\n    self.processConfig = function (data) {\n        config = angular.copy(data);\n    };\n\n    self.override = function (key, value) {\n        if (value === 'true') {\n            value = true;\n        } else if (value === 'false') {\n            value = false;\n        } else if ($.isNumeric(value)) {\n            value = parseFloat(value);\n        }\n        overridden[key] = value;\n        $cookieStore.put(\"configService:overridden\", overridden);\n    };\n\n    self.removeOverridden = function (key) {\n        delete overridden[key];\n        $cookieStore.put(\"configService:overridden\", overridden);\n    };\n\n    self.resetOverridden = function () {\n        overridden = {};\n        $cookieStore.put(\"configService:overridden\", overridden);\n    };\n\n    self.getOverridden = function () {\n        return angular.copy(overridden);\n    };\n\n    var overridden = $cookieStore.get(\"configService:overridden\") || {};\n    $window.configService = self;\n    return self;\n}]);\n\nm.config(['$httpProvider', function($httpProvider) {\n    var configService;\n    $httpProvider.interceptors.push(function($injector){\n        return {\n            request: function(config){\n                if (!$injector.has('configService')) {\n                    console.log('There is no configuration service available.');\n                    return config;\n                }\n                configService = configService || $injector.get(\"configService\");\n                if (config.url.split(\"?\")[0].match(/\\.\\w+$/) !== null){\n                    return config;\n                }\n                var overridden = obj2get(configService.getOverridden(), \"config.\", [\"user\", \"time\", \"debug\"]);\n                if (overridden === \"\"){\n                    return config;\n                }\n                config.url += config.url.indexOf(\"?\") === -1 ? \"?\" : \"&\";\n                config.url += overridden;\n                return config;\n            }\n        };\n    });\n}]);\n\n\nvar loggingServiceLoaded;\nif (loggingServiceLoaded){\n    throw \"LoggingService already loaded\";\n}\nloggingServiceLoaded = true;\n\nvar m = angular.module('proso.apps.common-logging', []);\n\nm.factory(\"loggingService\", [\"$window\", function($window) {\n    if (!!$window.loggingService){\n        return $window.loggingService;\n    }\n\n    var self = this;\n    var debugLog = [];\n    var debugLogListeners = [];\n\n    self.getDebugLog = function() {\n        return debugLog;\n    };\n\n    self.extendDebugLog = function(url, events) {\n        events.forEach(function(e) {\n            e.url = url;\n            debugLog.push(e);\n        });\n        debugLogListeners.forEach(function(listener) {\n            listener(events);\n        });\n    };\n\n    self.addDebugLogListener = function(listener) {\n        debugLogListeners.push(listener);\n    };\n\n    $window.loggingService = self;\n    return self;\n}]);\n\nm.config(['$httpProvider', function($httpProvider) {\n    var loggingService;\n    $httpProvider.interceptors.push(function($injector) {\n        return {\n            response: function(response) {\n                loggingService = loggingService || $injector.get(\"loggingService\");\n                if (response.data instanceof Object && 'debug_log' in response.data) {\n                    loggingService.extendDebugLog(response.config.url, response.data.debug_log);\n                }\n                return response;\n            }\n        };\n    });\n}]);\n\nvar m = angular.module('proso.apps.common-toolbar', ['ngCookies', 'proso.apps.common-config']);\n\nm.controller(\"ToolbarController\", ['$scope', '$cookies', 'configService', 'loggingService', '$timeout', function($scope, $cookies, configService, loggingService, $timeout) {\n    $scope.override = configService.override;\n    $scope.removeOverridden = configService.removeOverridden;\n    $scope.date = new Date();\n    $scope.debugLog = [];\n    $scope.opened = $cookies[\"toolbar:opened\"] === \"true\";\n    $scope.loggingOpened = true;\n    $scope.override('debug', true);\n    $scope.overridden = configService.getOverridden();\n    loggingService.addDebugLogListener(function(events) {\n        $timeout(function(){\n            events.forEach(function (e) {\n                $scope.debugLog.unshift(e);\n            });\n        });\n    });\n\n    $scope.$watch(\"opened\", function(n, o){\n        $cookies[\"toolbar:opened\"] = n;\n    });\n\n    $scope.addToOverride = function(name) {\n        if (!name) {\n            return;\n        }\n        configService.override(name, '');\n    };\n\n    $scope.getOverridden = function() {\n        var overridden = configService.getOverridden();\n        Object.keys(overridden).filter(function(k) {\n            return (k === 'user' || k === 'debug' || k === 'time');\n        }).forEach(function (k) {\n            delete overridden[k];\n        });\n        return overridden;\n    };\n\n}]);\n\nm.directive('toolbar', [function () {\n    return {\n        restrict: 'E',\n        controller: 'ToolbarController',\n        templateUrl: 'templates/common-toolbar/toolbar.html'\n    };\n}]);\n\nvar m = angular.module('proso.apps.feedback-comment', ['ui.bootstrap', 'gettext']);\n\nm.directive('feedbackComment', ['$modal', '$window', 'gettextCatalog', function ($modal, $window, gettextCatalog) {\n    return {\n        restrict: 'A',\n        link: function ($scope, element, attrs) {\n            $scope.feedback = {\n                email: '@',\n                text: '',\n            };\n\n            $scope.openFeedback = function () {\n                if (attrs.email) {\n                    $scope.feedback.email = attrs.email;\n                }\n\n                $modal.open({\n                    templateUrl: 'templates/feedback-comment/comment.html',\n                    controller: ModalFeedbackCtrl,\n                    size: 'lg',\n                    resolve: {\n                        feedback: function () {\n                            return $scope.feedback;\n                        }\n                    }\n                });\n            };\n\n            var ModalFeedbackCtrl = ['$scope', '$modalInstance', '$http', '$cookies', '$location', 'feedback', 'gettextCatalog',\n                function ($scope, $modalInstance, $http, $cookies, $location, feedback, gettextCatalog) {\n\n                $scope.feedback = feedback;\n                $scope.alerts = [];\n\n                $scope.send = function() {\n                    feedback.page = $location.absUrl();\n                    $http.defaults.headers.post['X-CSRFToken'] = $cookies.csrftoken;\n                    $http.post('/feedback/feedback/', feedback).success(function(data){\n                        $scope.alerts.push({\n                            type : 'success',\n                            msg : gettextCatalog.getString('Thank you for the message. User feedback is very important for us.'),\n                        });\n                        $scope.sending = false;\n                        feedback.text = '';\n                    }).error(function(){\n                        $scope.alerts.push({\n                            type : 'danger',\n                            msg : gettextCatalog.getString(\"Something wrong has happened.\"),\n                        });\n                        $scope.sending = false;\n                    });\n                    $scope.sending = true;\n                };\n\n                $scope.closeAlert = function(index) {\n                    $scope.alerts.splice(index, 1);\n                };\n\n                $scope.cancel = function () {\n                    $modalInstance.dismiss('cancel');\n                };\n            }];\n\n            element.bind('click', $scope.openFeedback);\n        }\n    };\n}]);\n\nvar m = angular.module('proso.apps.feedback-rating', ['ui.bootstrap', 'gettext']);\n\nm.controller('RatingModalController', ['$scope', '$rootScope', '$modal', function ($scope, $rootScope, $modal) {\n\n    $scope.open = function() {\n        if ($scope.email) {\n            $scope.feedback.email = $scope.email;\n        }\n\n        $modal.open({\n            templateUrl: 'templates/feedback-rating/rating.html',\n            controller: 'RatingModalInstanceController',\n            size: 'lg',\n            resolve: {\n                feedback: function () {\n                    return $scope.feedback;\n                }\n            }\n        });\n    };\n\n    $rootScope.$on('openRatingModal', function(event, args) {\n        $scope.open();\n    });\n}]);\n\nm.controller('RatingModalInstanceController', ['$scope', '$modalInstance', '$http', '$cookies', 'gettextCatalog', function($scope, $modalInstance, $http, $cookies, gettextCatalog) {\n\n    $scope.alerts = [];\n\n    $scope.vote = function(answer) {\n        $scope.answer = answer;\n        $http.defaults.headers.post['X-CSRFToken'] = $cookies.csrftoken;\n        $http.post('/feedback/rating', {'value': answer}).success(function(data){\n            $scope.alerts.push({\n                type : 'success',\n                msg : gettextCatalog.getString('Thank you for your rating.'),\n            });\n            $scope.sending = false;\n        }).error(function(){\n            $scope.alerts.push({\n                type : 'danger',\n                msg : gettextCatalog.getString(\"Something wrong has happened.\"),\n            });\n            $scope.sending = false;\n        });\n        $scope.sending = true;\n    };\n\n    $scope.closeAlert = function(index) {\n        $scope.alerts.splice(index, 1);\n        $modalInstance.dismiss('cancel');\n    };\n    $scope.cancel = function() {\n        $modalInstance.dismiss('cancel');\n    };\n}]);\n\nm.directive('ratingModal', ['$window', function ($window) {\n    return {\n        restrict: 'E',\n        controller: 'RatingModalController',\n    };\n}]);\n\n\nvar m = angular.module('proso.apps.flashcards-practice', ['ngCookies', 'proso.apps.common-config']);\nm.service(\"practiceService\", [\"$http\", \"$q\", \"configService\", \"$cookies\", function($http, $q, configService, $cookies){\n    var self = this;\n\n    var queue = [];\n    var deferredFC = null;\n    var promiseResolvedTmp = false;\n    var currentFC = null;\n    var answerQueue = [];\n\n    var config = {};\n    var current = 0;\n    var setId = 0;\n    var summary = {};\n\n    var contexts = {};\n\n    var loadingFlashcards = false;\n\n    // called on create and set reset\n    self.initSet = function(configName){\n        var key = \"practice.\" + configName + \".\";\n        config.set_length = configService.getConfig(\"proso_flashcards\", key + \"set_length\", 10);\n        config.fc_queue_size_max = configService.getConfig(\"proso_flashcards\", key + \"fc_queue_size_max\", 1);\n        config.fc_queue_size_min = configService.getConfig(\"proso_flashcards\", key + \"fc_queue_size_min\", 1);\n        config.save_answer_immediately = configService.getConfig(\"proso_flashcards\", key + \"save_answer_immediately\", false);\n        config.cache_context = configService.getConfig(\"proso_flashcards\", key + \"cache_context\", false);\n\n        self.setFilter({});\n        current = 0;\n        self.flushAnswerQueue();\n        self.clearQueue();\n        deferredFC = null;\n        setId++;\n        summary = {\n            flashcards: [],\n            answers: [],\n            correct: 0,\n            count: 0\n        };\n    };\n\n    self.setFilter = function(filter){\n        config.filter = {\n            contexts: [],\n            categories: [],\n            types: []\n        };\n        angular.extend(config.filter, filter);\n    };\n\n    self.getCurrent = function(){\n        return current;\n    };\n\n    self.getConfig = function(){\n        return angular.copy(config);\n    };\n\n    // add answer to queue and upload queued answers if necessary\n    self.saveAnswer = function(answer, farceSave){\n        if (answer) {\n            answer.time = Date.now();\n            answerQueue.push(answer);\n            summary.answers.push(answer);\n            summary.count++;\n            if (answer.flashcard_id === answer.flashcard_answered_id) {\n                summary.correct++;\n            }\n        }\n\n        if (config.save_answer_immediately || farceSave || current >= config.set_length) {\n            if (answerQueue.length > 0) {\n                answerQueue.forEach(function(answer){\n                    answer.time_gap = Math.round((Date.now() - answer.time) / 1000);\n                    delete answer.time;\n                });\n                $http.defaults.headers.post['X-CSRFToken'] = $cookies.csrftoken;\n                $http.post(\"/flashcards/answer/\", {answers: answerQueue})\n                    .error(function (response) {\n                        console.error(\"Problem while uploading answer\", response);\n                    });\n                answerQueue = [];\n            }\n        }\n    };\n\n    self.flushAnswerQueue = function(){\n        self.saveAnswer(null, true);\n    };\n\n    // build answer from current FC and save\n    self.saveAnswerToCurrentFC = function(answeredFCId, responseTime, meta){\n        if (!currentFC) {\n            console.error(\"There is no current flashcard\");\n            return;\n        }\n        var answer = {\n            flashcard_id: currentFC.id,\n            flashcard_answered_id: answeredFCId,\n            response_time: responseTime,\n            direction: currentFC.direction\n        };\n        if (meta) {\n            answer.meta = meta;\n        }\n        if (currentFC.options){\n            answer.option_ids = [];\n            currentFC.options.forEach(function(o){\n                if (o.id !== currentFC.id) {\n                    answer.option_ids.push(o.id);\n                }\n            });\n        }\n        self.saveAnswer(answer);\n    };\n\n    // return promise of flashcard\n    self.getFlashcard = function(){\n        if(deferredFC){\n            return $q(function(resolve, reject){\n                reject(\"Already one flashcard promised\");\n            });\n        }\n        deferredFC  = $q.defer();\n        promiseResolvedTmp = false;\n        _resolvePromise();\n        deferredFC.promise.then(function(){ deferredFC = null;}, function(){ deferredFC = null;});\n        return deferredFC.promise;\n    };\n\n    self.clearQueue = function(){\n        queue = [];\n    };\n\n    // preload flashcards\n    self.preloadFlashcards = function(){\n        _loadFlashcards();\n    };\n\n    self.getFCQueue = function(){\n        return queue;\n    };\n\n    self.getAnswerQueue = function(){\n        return answerQueue;\n    };\n\n    self.getSummary = function(){\n        var s = angular.copy(summary);\n        for (var i = 0; i < Math.min(s.flashcards.length, s.answers.length); i++){\n            var answer = s.answers[i];\n            var flashcard = s.flashcards[i];\n            if (flashcard.id === answer.flashcard_id){\n                flashcard.answer = answer;\n            }\n            answer.correct = answer.flashcard_id === answer.flashcard_answered_id;\n        }\n        return s;\n    };\n\n\n    var _loadFlashcards = function(){\n        if (loadingFlashcards){\n            return;                             // loading request is already running\n        }\n\n        if (queue.length >= config.fc_queue_size_min) { return; }                                       // if there are some FC queued\n            config.filter.limit  = config.fc_queue_size_max - queue.length;\n        if (deferredFC && !promiseResolvedTmp) { config.filter.limit ++; }                  // if we promised one flashcard\n        config.filter.limit = Math.min(config.filter.limit, config.set_length - current - queue.length);  // check size of set\n        if (config.filter.limit === 0) {return;}                         // nothing to do\n        config.filter.avoid = currentFC ? [currentFC.id] : [];      // avoid current FC\n        queue.forEach(function(fc){\n            config.filter.avoid.push(fc.id);\n        });\n\n        var filter = {};\n        for (var key in config.filter){\n            if (config.filter[key] instanceof Array) {\n                filter[key] = JSON.stringify(config.filter[key]);\n            }else{\n                filter[key] = config.filter[key];\n            }\n        }\n        if (config.cache_context){\n            filter.without_contexts = 1;\n        }\n\n        var request;\n        if (answerQueue.length === 0) {\n            request = $http.get(\"/flashcards/practice/\", {params: filter});\n        }else{\n            $http.defaults.headers.post['X-CSRFToken'] = $cookies.csrftoken;\n            request = $http.post(\"/flashcards/practice/\", {answers: answerQueue}, {params: filter});\n            answerQueue = [];\n        }\n        var request_in_set = setId;\n        loadingFlashcards = true;\n        request\n            .success(function(response){\n                loadingFlashcards = false;\n                if (request_in_set !== setId) {\n                    return;\n                }\n                queue = queue.concat(response.data.flashcards);\n                _loadContexts();\n                if (queue.length > 0) {\n                    _resolvePromise();\n                }\n                else{\n                    console.error(\"No Flashcards to practice\");\n                }\n            })\n            .error(function (response) {\n                loadingFlashcards = false;\n                if (deferredFC !== null){\n                    deferredFC.reject(\"Something went wrong while loading flashcards from backend.\");\n                }\n                console.error(\"Something went wrong while loading flashcards from backend.\");\n            });\n    };\n\n    var _loadContexts = function(){\n        if (config.cache_context){\n            queue.forEach(function(fc){\n                if (fc.context_id in contexts){\n                    if (contexts[fc.context_id] !== \"loading\"){\n                        fc.context = contexts[fc.context_id];\n                    }\n                }else{\n                    contexts[fc.context_id] = \"loading\";\n                    $http.get(\"/flashcards/context/\" + fc.context_id)\n                        .success(function(response){\n                            contexts[fc.context_id] = response.data;\n                            _resolvePromise();\n                        }).error(function(){\n                            delete contexts[fc.context_id];\n                            console.error(\"Error while loading context from backend\");\n                        });\n                }\n            });\n        }\n    };\n\n    var _resolvePromise = function(){\n        if (deferredFC === null){\n            return;\n        }\n        if (config.set_length === current){\n            deferredFC.reject(\"Set was completed\");\n            return;\n        }\n        if (queue.length > 0) {\n            if (config.cache_context){\n                if (typeof contexts[queue[0].context_id]  === 'object'){\n                    queue[0].context = contexts[queue[0].context_id];\n                }else{\n                    return;\n                }\n            }\n            currentFC = queue.shift();\n            current++;\n            promiseResolvedTmp = true;\n            summary.flashcards.push(currentFC);\n            deferredFC.resolve(currentFC);\n        }\n        _loadFlashcards();\n    };\n}]);\n\nvar m = angular.module('proso.apps.flashcards-userStats', ['ngCookies']);\nm.service(\"userStatsService\", [\"$http\", \"$cookies\", function($http, $cookies){\n    var self = this;\n\n    var filters = {};\n\n    self.addGroup = function (id, data) {\n        if (!data.language){\n            delete data.language;\n        }\n        filters[id] = data;\n    };\n\n    self.addGroupParams = function (id, categories, contexts, types, language) {\n        filters[id] = {\n            categories: categories,\n            contexts: contexts,\n            types: types\n        };\n        if (typeof language !== \"undefined\"){\n            filters[id].language = language;\n        }\n    };\n\n    self.getStats = function(mastered, username){\n        $http.defaults.headers.post['X-CSRFToken'] = $cookies.csrftoken;\n        var params = {filters: JSON.stringify(filters)};\n        if (mastered){\n            params.mastered = true;\n        }\n        if (username){\n            params.username = username;\n        }\n        return $http.get(\"/flashcards/user_stats/\", {params: params});\n    };\n\n    self.getStatsPost = function(mastered, username){\n        $http.defaults.headers.post['X-CSRFToken'] = $cookies.csrftoken;\n        var params = \"?\";\n        params += mastered ? \"&mastered=true\" : \"\";\n        params += username ? \"&username=\"+username : \"\";\n        return $http.post(\"/flashcards/user_stats/\" + params, filters);\n    };\n\n    self.clean = function(){\n        filters = {};\n    };\n\n    self.getGroups = function (){\n        return angular.copy(filters);\n    };\n\n}]);\n\nvar m = angular.module('proso.apps.user-user', ['ngCookies']);\nm.service(\"userService\", [\"$http\", function($http){\n    var self = this;\n    self.status = {\n        \"logged\": false,\n        \"loading\": false\n    };\n    self.user = {};\n    var update = this.update = {};\n    var sessionUpdated = false;\n    self.error = {};\n\n    // called on create\n    self.init = function (){\n    };\n\n    self.signup = function(data){\n        self.status.loading = true;\n        _resetError();\n        return $http.post(\"/user/signup/\", data)\n            .success(function(response){\n                _processUser(response.data);\n            })\n            .error(function(response){\n                self.error = response;\n            })\n            .finally(function(response){\n                self.status.loading = false;\n            });\n    };\n\n    self.signupParams = function(name, email, pass, pass2, firstName, lastName){\n        return self.signup({\n            \"username\": name,\n            \"email\": email,\n            \"password\": pass,\n            \"password_check\": pass2,\n            \"first_name\": firstName,\n            \"last_name\": lastName\n        });\n    };\n\n    // get public user profile from backend\n    self.getUserProfile = function(username, stats){\n        var params = {username: username};\n        if (stats){\n            params.stats = true;\n        }\n        return $http.get(\"/user/profile/\", {params: params});\n    };\n\n    // get user profile from backend\n    self.loadUser = function(stats){\n        self.status.loading = true;\n        var params = {};\n        if (stats){\n            params.stats = true;\n        }\n        return $http.get(\"/user/profile/\", {params: params})\n            .success(function(response){\n                _processUser(response.data);\n            })\n            .finally(function(response){\n                self.status.loading = false;\n            });\n    };\n\n    self.processUser = function(data){\n        _processUser(angular.copy(data));\n    };\n\n    // process user data\n    var _processUser = function(data){\n        if (!data) {\n            self.status.logged = false;\n            return;\n        }\n        self.status.logged = true;\n        self.user.profile = data;\n        angular.extend(self.user, data.user);\n        angular.extend(update, {\n            user: {\n                first_name: self.user.first_name,\n                last_name: self.user.last_name\n            },\n            send_emails: self.user.profile.send_emails,\n            public: self.user.profile.public\n        });\n        delete self.user.profile.user;\n        if (!sessionUpdated){\n            self.updateSession();\n            sessionUpdated = true;\n        }\n    };\n\n    self.login = function(username, pass){\n        self.status.loading = true;\n        _resetError();\n        var promise = $http.post(\"/user/login/\", {\n            username: username,\n            password: pass\n        });\n        promise.success(function(response){\n                _processUser(response.data);\n            })\n            .error(function(response){\n                self.error = response;\n            })\n            .finally(function(response){\n                self.status.loading = false;\n            });\n        return promise;\n    };\n\n    self.logout = function(){\n        self.status.loading = true;\n        $http.get(\"/user/logout/\")\n            .success(function(response){\n                clearObj(self.user);\n                self.status.logged = false;\n            })\n            .finally(function(response){\n                self.status.loading = false;\n            });\n    };\n\n\n    var _resetError = function(){\n        clearObj(self.error);\n    };\n\n    var clearObj = function(obj){\n        for (var prop in obj) {\n            if (obj.hasOwnProperty(prop)){ delete obj[prop]; }\n        }\n    };\n\n\n    self.loadUserFromJS = function (scope, stats) {\n        scope.$apply(self.loadUser(stats));\n    };\n\n    self.loadSession = function(){\n        self.status.loading = true;\n        $http.get(\"/user/session/\")\n            .success(function(response){\n                self.user.session = response.data;\n            })\n            .finally(function(response){\n                self.status.loading = false;\n            });\n    };\n\n    self.updateSession = function(){\n        var data = {\n            locale: window.navigator.language || window.navigator.userLanguage || window.navigator.browserLanguage,\n            display_height: window.innerHeight,\n            display_width: window.innerWidth\n        };\n        try{\n            data.time_zone = jstz.determine().name();\n        }catch (err){ console.log(\"JSTimeZone lib not loaded\");}\n        $http.post(\"/user/session/\", data).error(function(){\n            console.error(\"Error while updating session\");\n        });\n    };\n\n    self.updateProfile = function(user){\n        var data = {\n          user: {},\n        };\n        if (user.profile) {\n          angular.extend(data, user.profile);\n        }\n        angular.extend(data.user, user);\n        delete data.user.profile;\n        delete data.user.username;\n\n        self.status.loading = true;\n        _resetError();\n        var promise = $http.post(\"/user/profile/\", data);\n        promise.success(function(response){\n                _processUser(response.data);\n            })\n            .error(function(response){\n                self.error = response;\n            }).finally(function(response){\n                self.status.loading = false;\n            });\n        return promise;\n    };\n\n    self.loginGoogle = function() {\n        _openPopup('/login/google-oauth2/', '/user/close_popup/');\n    };\n\n    self.loginFacebook = function() {\n        _openPopup('/login/facebook/', '/user/close_popup/');\n    };\n\n    var _openPopup = function(url, next){\n        var settings = 'height=700,width=700,left=100,top=100,resizable=yes,scrollbars=yes,toolbar=no,menubar=no,location=yes,directories=no,status=yes';\n        url += \"?next=\" + next;\n        window.open(url, \"popup\", settings);\n    };\n\n    self.init();\n\n}]);\n\nvar m = angular.module('proso.apps.user-login', ['ui.bootstrap', 'proso.apps.gettext', 'proso.apps.user-user', 'angulartics', 'angulartics.google.analytics']);\n\nm.controller('LoginController', ['$scope', '$modalInstance', 'signupModal', 'userService', 'gettext', '$analytics',\n    function ($scope, $modalInstance, signupModal, userService, gettext, $analytics) {\n\n    $scope.credentials = {};\n    $scope.alerts = [];\n\n    $scope.cancel = function () {\n        $modalInstance.dismiss('cancel');\n    };\n\n    $scope.loginGoogle = function() {\n        $analytics.eventTrack('click', {\n            category: 'login',\n            label: '/login/google',\n        });\n        userService.loginGoogle();\n    };\n\n    $scope.loginFacebook = function() {\n        $analytics.eventTrack('click', {\n            category: 'login',\n            label: '/login/facebook',\n        });\n        userService.loginFacebook();\n    };\n\n    $scope.loginEmail = function() {\n        $analytics.eventTrack('click', {\n            category: 'login',\n            label: '/login/email',\n        });\n        userService\n            .login($scope.credentials.username, $scope.credentials.password)\n            .error($scope.onError)\n            .success(function() {\n                $scope.cancel();\n            });\n    };\n\n    $scope.openSignupModal = function() {\n        $scope.cancel();\n        signupModal.open();\n    };\n\n    $scope.signup = function() {\n        $analytics.eventTrack('click', {\n            category: 'signup',\n            label: '/signup/email',\n        });\n        userService.signupParams(\n            $scope.credentials.username,\n            $scope.credentials.email,\n            $scope.credentials.password,\n            $scope.credentials.password_check,\n            $scope.credentials.first_name,\n            $scope.credentials.last_name\n        );\n    };\n\n    $scope.onError = function(error) {\n        $analytics.eventTrack('error', {\n            category: 'login',\n            label: 'error/login'\n        });\n        $scope.alerts.push({\n            type: error.type || 'danger',\n            msg: error.msg || gettext('Something wrong has happened.')\n        });\n    };\n\n    $scope.closeAlert = function(index) {\n        $scope.alerts.splice(index, 1);\n    };\n}]);\n\nm.factory('signupModal', ['$modal', function($modal) {\n    return {\n        open: function() {\n            $modal.open({\n                templateUrl: 'templates/user-login/signup-modal.html',\n                controller: 'LoginController',\n            });\n        }\n    };\n}]);\n\nm.factory('loginModal', [\"$modal\", function($modal) {\n    return {\n        open: function() {\n            $modal.open({\n                templateUrl: 'templates/user-login/login-modal.html',\n                controller: 'LoginController',\n            });\n        }\n    };\n}]);\n\nm.directive('loginButton', ['loginModal', function(loginModal) {\n    return {\n        restrict: 'A',\n        link: function (scope, element) {\n            element.bind('click', function(){\n                loginModal.open();\n            });\n        }\n    };\n}]);\n\nangular.module(\"templates/common-toolbar/toolbar.html\", []).run([\"$templateCache\", function($templateCache) {\n  $templateCache.put(\"templates/common-toolbar/toolbar.html\",\n    \"<div id=\\\"proso-toolbar\\\">\\n\" +\n    \"    <div id=\\\"config-bar-show-button\\\" ng-click=\\\"opened = !opened\\\" ng-hide=\\\"opened\\\"> proso bar </div>\\n\" +\n    \"\\n\" +\n    \"    <div id=\\\"config-bar\\\" ng-cloak ng-show=\\\"opened\\\">\\n\" +\n    \"        <div id=\\\"config-bar-header\\\">\\n\" +\n    \"            <span id=\\\"config-bar-hide\\\" ng-click=\\\"opened = !opened\\\">Close</span>\\n\" +\n    \"        </div>\\n\" +\n    \"        <ul id=\\\"config-bar-content\\\">\\n\" +\n    \"            <li>\\n\" +\n    \"                <span ng-click=\\\"addToOverride(propertyToOverride)\\\" class=\\\"add-to-override\\\">+</span>\\n\" +\n    \"                <input type=\\\"text\\\" ng-model=\\\"propertyToOverride\\\" id=\\\"config-bar-property-name\\\" placeholder=\\\"Property Name\\\" />\\n\" +\n    \"            </li>\\n\" +\n    \"            <li>\\n\" +\n    \"                <span ng-click=\\\"removeOverridden('user'); overridden.user = null;\\\" class=\\\"reset\\\">X</span>\\n\" +\n    \"                <input type=\\\"number\\\" ng-model=\\\"overridden.user\\\" placeholder=\\\"User\\\" ng-change=\\\"override('user', overridden.user)\\\" />\\n\" +\n    \"            </li>\\n\" +\n    \"            <li>\\n\" +\n    \"                <span ng-click=\\\"removeOverridden('time'); overridden.time= null;\\\" class=\\\"reset\\\">X</span>\\n\" +\n    \"                <input type=\\\"text\\\" ng-model=\\\"overridden.time\\\" placeholder=\\\"Time\\\" ng-change=\\\"override('time', overridden.time)\\\" />\\n\" +\n    \"                <i>{{date | date:'yyyy-MM-dd_HH:mm:ss'}}</i>\\n\" +\n    \"            </li>\\n\" +\n    \"            <li ng-repeat=\\\"(name, value) in getOverridden() track by name\\\">\\n\" +\n    \"                <span class=\\\"reset\\\" ng-click=\\\"removeOverridden(name)\\\">X</span>\\n\" +\n    \"                <input type=\\\"text\\\" disabled class=\\\"property-name\\\" ng-model=\\\"name\\\" />\\n\" +\n    \"                <input type=\\\"text\\\" class=\\\"property-value\\\" placeholder=\\\"Value\\\" ng-model=\\\"value\\\" ng-change=\\\"override(name, value)\\\" />\\n\" +\n    \"            </li>\\n\" +\n    \"            <div class='section' ng-click=\\\"loggingOpened = !loggingOpened\\\">Logging</div>\\n\" +\n    \"            <ul id=\\\"config-bar-logging\\\" ng-cloak ng-show=\\\"loggingOpened\\\">\\n\" +\n    \"                <li ng-repeat=\\\"event in debugLog|limitTo:100\\\" class=\\\"logging-event\\\">\\n\" +\n    \"                    <span class=\\\"level\\\">{{ event.level }}</span>\\n\" +\n    \"                    <span class=\\\"url\\\">{{ event.url }}</span>\\n\" +\n    \"                    <span class=\\\"filename\\\">{{ event.filename }}:{{ event.line_number }}</span>\\n\" +\n    \"                    <span class=\\\"message\\\">{{ event.message }}</span>\\n\" +\n    \"                </li>\\n\" +\n    \"            </ul>\\n\" +\n    \"        </ul>\\n\" +\n    \"    </div>\\n\" +\n    \"</div>\\n\" +\n    \"\");\n}]);\n\nangular.module(\"templates/feedback-comment/comment.html\", []).run([\"$templateCache\", function($templateCache) {\n  $templateCache.put(\"templates/feedback-comment/comment.html\",\n    \"<div class=\\\"modal-header\\\">\\n\" +\n    \"    <h3 class=\\\"modal-title\\\">{{ \\\"Write to us\\\" | translate }}</h3>\\n\" +\n    \"</div>\\n\" +\n    \"<div class=\\\"modal-body\\\">\\n\" +\n    \"    <label>\\n\" +\n    \"      {{ \\\"Did you find a bug in the app? Do you have an improvement idea? Or any other comment? We are eager to hear anything you'd like to tell us.\\\" | translate }}\\n\" +\n    \"    </label>\\n\" +\n    \"    <textarea ng-model=\\\"feedback.text\\\" class=\\\"form-control\\\" rows=\\\"8\\\" ></textarea>\\n\" +\n    \"    <label>\\n\" +\n    \"      {{ \\\"Your e-mail address (optional)\\\" | translate }}\\n\" +\n    \"    </label>\\n\" +\n    \"    <input type=\\\"text\\\" ng-model=\\\"feedback.email\\\" class=\\\"form-control\\\"/>\\n\" +\n    \"    <br>\\n\" +\n    \"    <alert ng-repeat=\\\"alert in alerts\\\" type=\\\"{{alert.type}}\\\" close=\\\"closeAlert($index)\\\">{{alert.msg}}</alert>\\n\" +\n    \"</div>\\n\" +\n    \"<div class=\\\"modal-footer\\\">\\n\" +\n    \"    <button ng-disabled=\\\"sending\\\" class=\\\"btn btn-primary\\\" ng-click=\\\"send()\\\">\\n\" +\n    \"      {{ \\\"Send\\\" | translate }}\\n\" +\n    \"    </button>\\n\" +\n    \"    <button class=\\\"btn btn-danger\\\" ng-click=\\\"cancel()\\\">\\n\" +\n    \"      {{ \\\"Close\\\" | translate }}\\n\" +\n    \"    </button>\\n\" +\n    \"</div>\\n\" +\n    \"\\n\" +\n    \"\");\n}]);\n\nangular.module(\"templates/feedback-rating/rating.html\", []).run([\"$templateCache\", function($templateCache) {\n  $templateCache.put(\"templates/feedback-rating/rating.html\",\n    \"<div class=\\\"modal-header text-center\\\">\\n\" +\n    \"    <h3 class=\\\"modal-title\\\">{{ \\\"How difficult are the questions?\\\" | translate }}</h3>\\n\" +\n    \"    {{ \\\"Your answer helps us adjust difficulty of questions.\\\" | trans}}\\n\" +\n    \"</div>\\n\" +\n    \"<div class=\\\"rating modal-body\\\">\\n\" +\n    \"    <div class=\\\" text-center\\\" ng-hide=\\\"answer\\\">\\n\" +\n    \"        <a class=\\\"btn btn-lg btn-success\\\" ng-click=\\\"vote(1)\\\">\\n\" +\n    \"            {{\\\"Too easy\\\" | translate }}\\n\" +\n    \"        </a>\\n\" +\n    \"        <a class=\\\"btn btn-lg btn-primary\\\" ng-click=\\\"vote(2)\\\">\\n\" +\n    \"            {{ \\\"Appropriate\\\" | translate }}\\n\" +\n    \"        </a>\\n\" +\n    \"        <a class=\\\"btn btn-lg btn-danger\\\" ng-click=\\\"vote(3)\\\">\\n\" +\n    \"            {{ \\\"Too difficult\\\" | translate }}\\n\" +\n    \"        </a>\\n\" +\n    \"        <div class=\\\"clearfix\\\"></div>\\n\" +\n    \"        <a class=\\\"pull-right dont-know\\\" href=\\\"\\\" ng-click=\\\"cancel()\\\">\\n\" +\n    \"            {{ \\\"Don't know / Don't want to rate\\\" | translate }}\\n\" +\n    \"        </a>\\n\" +\n    \"        <div class=\\\"clearfix\\\"></div>\\n\" +\n    \"    </div>\\n\" +\n    \"    <alert ng-repeat=\\\"alert in alerts\\\" type=\\\"{{alert.type}}\\\" close=\\\"closeAlert($index)\\\">{{alert.msg}}</alert>\\n\" +\n    \"</div>\\n\" +\n    \"<div class=\\\"modal-footer\\\" ng-show=\\\"answer\\\">\\n\" +\n    \"    <button class=\\\"btn btn-danger\\\" ng-click=\\\"cancel()\\\">\\n\" +\n    \"        {{ \\\"Close\\\" | translate }}\\n\" +\n    \"    </button>\\n\" +\n    \"</div>\\n\" +\n    \"\\n\" +\n    \"\");\n}]);\n\nangular.module(\"templates/user-login/login-modal.html\", []).run([\"$templateCache\", function($templateCache) {\n  $templateCache.put(\"templates/user-login/login-modal.html\",\n    \"<div class=\\\"modal-header text-center\\\">\\n\" +\n    \"    <button type=\\\"button\\\" class=\\\"close\\\" ng-click=\\\"cancel()\\\">\\n\" +\n    \"        <span aria-hidden=\\\"true\\\">&times;</span>\\n\" +\n    \"    </button>\\n\" +\n    \"    <h3 class=\\\"modal-title\\\"> {{ \\\"Sign In\\\" | translate }} </h3>\\n\" +\n    \"</div>\\n\" +\n    \"<div class=\\\"modal-body\\\">\\n\" +\n    \"    <a class=\\\"btn btn-danger btn-lg btn-block\\\"\\n\" +\n    \"        track-click=\\\"login\\\"\\n\" +\n    \"        href=\\\"/login/google-oauth2/\\\">\\n\" +\n    \"        <i class=\\\"social-google\\\"></i> {{ \\\"via Google\\\" | translate }}\\n\" +\n    \"    </a>\\n\" +\n    \"    <br>\\n\" +\n    \"    <a class=\\\"btn btn-primary btn-lg btn-block\\\"\\n\" +\n    \"        track-click=\\\"login\\\"\\n\" +\n    \"        href=\\\"/login/facebook/\\\">\\n\" +\n    \"        <i class=\\\"social-facebook\\\"></i>{{ \\\"via Facebook\\\" | translate }}\\n\" +\n    \"    </a>\\n\" +\n    \"\\n\" +\n    \"    <br>\\n\" +\n    \"    <hr>\\n\" +\n    \"    <br>\\n\" +\n    \"\\n\" +\n    \"    <form role=\\\"form\\\" ng-submit=\\\"loginEmail()\\\">\\n\" +\n    \"        <div class=\\\"form-group\\\">\\n\" +\n    \"            <input type=\\\"text\\\" class=\\\"form-control\\\" ng-model=\\\"credentials.username\\\"\\n\" +\n    \"            placeholder=\\\"{{ 'Username' | translate }}\\\">\\n\" +\n    \"        </div>\\n\" +\n    \"        <div class=\\\"form-group\\\">\\n\" +\n    \"            <input type=\\\"password\\\" class=\\\"form-control\\\" ng-model=\\\"credentials.password\\\"\\n\" +\n    \"            placeholder=\\\"{{ 'Password' | translate }}\\\">\\n\" +\n    \"        </div>\\n\" +\n    \"        <alert ng-repeat=\\\"alert in alerts\\\" type=\\\"{{alert.type}}\\\"\\n\" +\n    \"            close=\\\"closeAlert($index)\\\">{{alert.msg}}</alert>\\n\" +\n    \"        <button ng-disabled=\\\"userService.status.loading\\\" type=\\\"submit\\\"\\n\" +\n    \"            class=\\\"btn btn-primary btn-block btn-lg\\\">\\n\" +\n    \"            {{ 'Sign In' | translate }}\\n\" +\n    \"        </button>\\n\" +\n    \"\\n\" +\n    \"    </form>\\n\" +\n    \"</div>\\n\" +\n    \"<div class=\\\"modal-footer\\\" >\\n\" +\n    \"        <a class=\\\"btn btn-link\\\" ng-click=\\\"openSignupModal()\\\">\\n\" +\n    \"            {{ 'Sign Up' | translate }}\\n\" +\n    \"        </a>\\n\" +\n    \"\\n\" +\n    \"</div>\\n\" +\n    \"\");\n}]);\n\nangular.module(\"templates/user-login/signup-modal.html\", []).run([\"$templateCache\", function($templateCache) {\n  $templateCache.put(\"templates/user-login/signup-modal.html\",\n    \"<div class=\\\"modal-header text-center\\\">\\n\" +\n    \"    <button type=\\\"button\\\" class=\\\"close\\\" ng-click=\\\"cancel()\\\">\\n\" +\n    \"        <span aria-hidden=\\\"true\\\">&times;</span>\\n\" +\n    \"    </button>\\n\" +\n    \"    <h3 class=\\\"modal-title\\\"> {{ \\\"Sign Up\\\" | translate }} </h3>\\n\" +\n    \"    <div ng-hide=\\\"success\\\">\\n\" +\n    \"        {{\\\" and get all the benefits of registered users.\\\" | translate }}\\n\" +\n    \"    </div>\\n\" +\n    \"</div>\\n\" +\n    \"<div class=\\\"modal-body\\\" ng-hide=\\\"success\\\">\\n\" +\n    \"    <div ng-hide=\\\"activateEmail\\\">\\n\" +\n    \"        <a class=\\\"btn btn-danger btn-lg btn-block\\\"\\n\" +\n    \"            track-click=\\\"login\\\"\\n\" +\n    \"            href=\\\"/login/google-oauth2/\\\">\\n\" +\n    \"            <i class=\\\"social-google\\\"></i> {{ \\\"via Google\\\" | translate }}\\n\" +\n    \"        </a>\\n\" +\n    \"        <br>\\n\" +\n    \"        <a class=\\\"btn btn-primary btn-lg btn-block\\\"\\n\" +\n    \"            track-click=\\\"login\\\"\\n\" +\n    \"            href=\\\"/login/facebook/\\\">\\n\" +\n    \"            <i class=\\\"social-facebook\\\"></i>{{ \\\"via Facebook\\\" | translate }}\\n\" +\n    \"        </a>\\n\" +\n    \"        <br>\\n\" +\n    \"        <a class=\\\"btn btn-info btn-lg btn-block\\\"\\n\" +\n    \"            ng-click=\\\"activateEmail=true\\\"\\n\" +\n    \"            href=\\\"\\\">\\n\" +\n    \"            <i class=\\\"glyphicon glyphicon-envelope\\\"></i> {{ \\\"via E-mail\\\" | translate }}\\n\" +\n    \"        </a>\\n\" +\n    \"    </div>\\n\" +\n    \"\\n\" +\n    \"    <form role=\\\"form\\\" ng-show=\\\"activateEmail\\\" ng-submit=\\\"signup()\\\">\\n\" +\n    \"        <div class=\\\"form-group\\\">\\n\" +\n    \"            <input type=\\\"email\\\" class=\\\"form-control\\\" ng-model=\\\"credentials.email\\\"\\n\" +\n    \"                placeholder=\\\"{{ 'E-mail' | translate }}\\\" required>\\n\" +\n    \"        </div>\\n\" +\n    \"        <div class=\\\"form-group\\\">\\n\" +\n    \"            <input type=\\\"text\\\" class=\\\"form-control\\\" ng-model=\\\"credentials.username\\\"\\n\" +\n    \"                placeholder=\\\"{{ 'Username' | translate }}\\\" required>\\n\" +\n    \"        </div>\\n\" +\n    \"        <div class=\\\"form-group\\\">\\n\" +\n    \"            <input type=\\\"password\\\" class=\\\"form-control\\\" ng-model=\\\"credentials.password\\\"\\n\" +\n    \"                placeholder=\\\"{{ 'Password' | translate }}\\\" required>\\n\" +\n    \"        </div>\\n\" +\n    \"        <div class=\\\"form-group\\\">\\n\" +\n    \"            <input type=\\\"password\\\" class=\\\"form-control\\\"\\n\" +\n    \"                ng-model=\\\"credentials.password_check\\\"\\n\" +\n    \"                placeholder=\\\"{{ 'Password again' | translate }}\\\" required>\\n\" +\n    \"        </div>\\n\" +\n    \"        <alert ng-repeat=\\\"alert in alerts\\\" type=\\\"{{alert.type}}\\\"\\n\" +\n    \"            close=\\\"closeAlert($index)\\\">{{alert.msg}}</alert>\\n\" +\n    \"        <button ng-disabled=\\\"userService.status.loading\\\" type=\\\"submit\\\" class=\\\"btn btn-primary btn-block btn-lg\\\">\\n\" +\n    \"            {{ 'Sign Up' | translate }}\\n\" +\n    \"        </button>\\n\" +\n    \"    </form>\\n\" +\n    \"</div>\\n\" +\n    \"<div class=\\\"modal-body\\\" ng-show=\\\"success\\\" >\\n\" +\n    \"        <alert type=\\\"success\\\">\\n\" +\n    \"            {{ 'Registration was successful. You can continue to use the application.' | translate }}\\n\" +\n    \"        </alert>\\n\" +\n    \"</div>\\n\" +\n    \"\\n\" +\n    \"\");\n}]);\n!angular.$$csp() && angular.element(document).find('head').prepend('<style type=\"text/css\">#config-bar-show-button{position:fixed;right:-40px;top:250px;width:100px;transform:rotate(-90deg);-webkit-transform:rotate(-90deg);border:solid #808080 1px;margin:0;padding:10px;text-transform:capitalize;font-weight:bold;background-color:rgba(255,255,255,0.8);transition:all 0.2s;cursor:pointer;text-align:center;}#config-bar-show-button:hover{background-color:#1f8dd6;color:white;}#config-bar{position:fixed;right:0;top:0;bottom:0;width:500px;border-left:solid #808080 1px;background-color:rgba(255,255,255,0.8);z-index:1000;}#config-bar-header{background-color:rgba(31,141,214,0.8);margin:0;padding:10px 20px;text-align:right;color:white;}#config-bar-content .section{background-color:rgba(31,141,214,0.8);margin:0;padding:10px 20px;color:white;text-transform:uppercase;cursor:pointer;}#config-bar-hide{text-align:right;width:100%;cursor:pointer;}#config-bar-content{margin:0;list-style:none;padding:0;}#config-bar-content > li{border-bottom:1px dashed #E9F4FB;padding:10px 20px;margin:0;}#config-bar-content > li:hover{background:#E9F4FB;}#config-bar-content .reset,#config-bar-content .add-to-override{cursor:pointer;font-weight:bolder;}#config-bar-content input{padding:5px 10px;}#config-bar-content label{margin-left:10px;cursor:pointer;}#config-bar-content .link{text-transform:uppercase;cursor:pointer;font-weight:bold;}#config-bar-logging{list-style:none;margin:0;padding:0;max-height:500px;overflow-y:scroll;font-size:12px;}#config-bar-logging > li{margin:0;padding:5px 10px;border-bottom:1px solid #E9F4FB;}#config-bar-logging > li:hover{background-color:#E9F4FB;}#config-bar-logging .level{display:block;float:left;width:10%;font-weight:bold;}#config-bar-logging .url{font-weight:bold;margin-left:10px;display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;width:50%;float:left;}#config-bar-logging .filename{display:block;float:right;text-align:right;width:30%;font-weight:bold;}#config-bar-logging .message{display:block;clear:both;margin-top:20px;margin-bottom:5px;}#config-bar-content input{font-size:14px;}#config-bar-content .property-name{width:70%;}#config-bar-content .property-value{width:10%;text-align:center;}#config-bar-property-name{width:70%;}#config-bar-show-button{position:fixed;right:-40px;top:250px;width:100px;transform:rotate(-90deg);-webkit-transform:rotate(-90deg);border:solid #808080 1px;margin:0;padding:10px;text-transform:capitalize;font-weight:bold;background-color:rgba(255,255,255,0.8);transition:all 0.2s;cursor:pointer;text-align:center;}#config-bar-show-button:hover{background-color:#1f8dd6;color:white;}#config-bar{position:fixed;right:0;top:0;bottom:0;width:500px;border-left:solid #808080 1px;background-color:rgba(255,255,255,0.8);z-index:1000;}#config-bar-header{background-color:rgba(31,141,214,0.8);margin:0;padding:10px 20px;text-align:right;color:white;}#config-bar-content .section{background-color:rgba(31,141,214,0.8);margin:0;padding:10px 20px;color:white;text-transform:uppercase;cursor:pointer;}#config-bar-hide{text-align:right;width:100%;cursor:pointer;}#config-bar-content{margin:0;list-style:none;padding:0;}#config-bar-content > li{border-bottom:1px dashed #E9F4FB;padding:10px 20px;margin:0;}#config-bar-content > li:hover{background:#E9F4FB;}#config-bar-content .reset,#config-bar-content .add-to-override{cursor:pointer;font-weight:bolder;}#config-bar-content input{padding:5px 10px;}#config-bar-content label{margin-left:10px;cursor:pointer;}#config-bar-content .link{text-transform:uppercase;cursor:pointer;font-weight:bold;}#config-bar-logging{list-style:none;margin:0;padding:0;max-height:500px;overflow-y:scroll;font-size:12px;}#config-bar-logging > li{margin:0;padding:5px 10px;border-bottom:1px solid #E9F4FB;}#config-bar-logging > li:hover{background-color:#E9F4FB;}#config-bar-logging .level{display:block;float:left;width:10%;font-weight:bold;}#config-bar-logging .url{font-weight:bold;margin-left:10px;display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;width:50%;float:left;}#config-bar-logging .filename{display:block;float:right;text-align:right;width:30%;font-weight:bold;}#config-bar-logging .message{display:block;clear:both;margin-top:20px;margin-bottom:5px;}#config-bar-content input{font-size:14px;}#config-bar-content .property-name{width:70%;}#config-bar-content .property-value{width:10%;text-align:center;}#config-bar-property-name{width:70%;}</style>');\n!angular.$$csp() && angular.element(document).find('head').prepend('<style type=\"text/css\">.rating .btn{margin:20px;}</style>');"]}