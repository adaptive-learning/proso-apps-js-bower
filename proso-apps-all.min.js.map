{"version":3,"file":"proso-apps-all.min.js","sources":["proso-apps-all.js"],"names":["obj2get","obj","prefix","ignore_prefix_keys","str","key","hasOwnProperty","indexOf","encodeURIComponent","angular","module","value","window","gettext","x","filter","msgid","configServiceLoaded","m","factory","$http","$window","$cookieStore","configService","self","this","config","getConfig","appName","defaultValue","variable","overridden","isDebug","console","log","error","path","split","i","length","debug","loadConfig","get","success","response","processConfig","data","copy","override","$","isNumeric","parseFloat","put","removeOverridden","resetOverridden","getOverridden","$httpProvider","interceptors","push","$injector","request","has","url","match","loggingServiceLoaded","loggingService","debugLog","debugLogListeners","getDebugLog","extendDebugLog","events","forEach","e","listener","addDebugLogListener","Object","debug_log","controller","$scope","$cookies","$timeout","date","Date","opened","loggingOpened","unshift","$watch","n","o","addToOverride","name","keys","k","directive","restrict","templateUrl","$modal","template","join","link","element","attrs","feedback","email","text","openFeedback","open","ModalFeedbackCtrl","size","resolve","$modalInstance","$location","alerts","send","page","absUrl","defaults","headers","post","csrftoken","type","msg","sending","closeAlert","index","splice","cancel","dismiss","$rootScope","$on","event","args","vote","answer","service","$q","queue","deferredFC","promiseResolvedTmp","currentFC","answerQueue","current","setId","summary","contexts","initSet","configName","set_length","fc_queue_size_max","fc_queue_size_min","save_answer_immediately","cache_context","setFilter","flushAnswerQueue","clearQueue","flashcards","answers","correct","count","categories","types","extend","getCurrent","saveAnswer","farceSave","time","now","flashcard_id","flashcard_answered_id","time_gap","Math","round","saveAnswerToCurrentFC","answeredFCId","responseTime","meta","id","response_time","direction","options","option_ids","getFlashcard","reject","defer","_resolvePromise","promise","then","preloadFlashcards","_loadFlashcards","getFCQueue","getAnswerQueue","getSummary","s","min","flashcard","limit","avoid","fc","Array","JSON","stringify","without_contexts","params","request_in_set","concat","_loadContexts","context_id","context","shift","filters","addGroup","language","addGroupParams","getStats","mastered","username","getStatsPost","clean","getGroups","status","logged","loading","user","update","sessionUpdated","init","signup","_resetError","_processUser","signupParams","pass","pass2","firstName","lastName","password","password_check","first_name","last_name","getUserProfile","stats","loadUser","processUser","profile","send_emails","public","updateSession","login","logout","clearObj","prop","loadUserFromJS","scope","$apply","loadSession","session","locale","navigator","userLanguage","browserLanguage","display_height","innerHeight","display_width","innerWidth","time_zone","jstz","determine","err","updateProfile","loginGoogle","_openPopup","loginFacebook","next","settings","signupModal","userService","$analytics","credentials","eventTrack","category","label","loginEmail","onError","openSignupModal","loginModal","bind","run","$templateCache","$$csp","document","find","prepend"],"mappings":"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","sourcesContent":["/*\n * proso-apps-js\n * Version: 1.0.0 - 2015-06-05\n * License: MIT\n */\nangular.module(\"proso.apps\", [\"proso.apps.tpls\", \"proso.apps.common-config\",\"proso.apps.common-logging\",\"proso.apps.common-toolbar\",\"proso.apps.gettext\",\"proso.apps.feedback-comment\",\"proso.apps.feedback-rating\",\"proso.apps.flashcards-practice\",\"proso.apps.flashcards-userStats\",\"proso.apps.user-user\",\"proso.apps.user-login\"]);\nangular.module(\"proso.apps.tpls\", [\"templates/common-toolbar/toolbar.html\",\"templates/feedback-comment/comment.html\",\"templates/feedback-rating/rating.html\",\"templates/user-login/login-modal.html\",\"templates/user-login/signup-modal.html\"]);\nangular.module(\"proso.apps.gettext\", [])\n.value(\"gettext\", window.gettext || function(x){return x;})\n.filter(\"trans\", [\"gettext\", function(gettext) {\n    return function(msgid) {\n        return gettext(msgid);\n    };\n}]);\nvar configServiceLoaded;\nif (configServiceLoaded){\n    throw \"ConfigService already loaded\";\n}\nconfigServiceLoaded = true;\n\nfunction obj2get(obj, prefix, ignore_prefix_keys){\n    var str = \"\";\n    for (var key in obj) {\n        if (obj.hasOwnProperty(key)) {\n            if (str !== \"\") {\n                str += \"&\";\n            }\n            if (ignore_prefix_keys.indexOf(key) === -1){\n                str += prefix;\n            }\n            str += key + \"=\" + encodeURIComponent(obj[key]);\n        }\n    }\n    return str;\n}\n\nvar m = angular.module('proso.apps.common-config', ['ngCookies']);\n\nm.factory(\"configService\", [\"$http\", \"$window\", \"$cookieStore\", function($http, $window, $cookieStore){\n    if (!!$window.configService){\n        return $window.configService;\n    }\n\n    var self = this;\n    var config = null;\n\n    self.getConfig = function (appName, key, defaultValue) {\n        var variable = null;\n        if (typeof overridden[appName + \".\" + key] !== 'undefined') {\n            variable = overridden[appName + \".\" + key];\n            if (self.isDebug()) {\n                console.log(appName + \".\" + key, \"overridden\", variable);\n            }\n            return variable;\n        }\n\n        if (config === null) {\n            console.error(\"Config not loaded\");\n            return;\n        }\n\n        variable = config[appName];\n        var path = key.split(\".\");\n        for (var i = 0; i < path.length; i++) {\n            if (typeof variable === 'undefined') {\n                if (self.isDebug()) {\n                    console.log(appName + \".\" + key, \"use default\", defaultValue);\n                }\n                return defaultValue;\n            }\n            variable = variable[path[i]];\n        }\n        if (typeof variable === 'undefined') {\n            if (self.isDebug()) {\n                console.log(appName + \".\" + key, \"use default\", defaultValue);\n            }\n            return defaultValue;\n        }\n        if (self.isDebug()) {\n            console.log(appName + \".\" + key, \"from config\", variable);\n        }\n        return variable;\n    };\n\n    self.isDebug = function() {\n        return overridden.debug === true;\n    };\n\n    self.loadConfig = function () {\n        return $http.get(\"/common/config/\")\n            .success(function (response) {\n                self.processConfig(response.data);\n            })\n            .error(function () {\n                console.error(\"Problem while loading config from server\");\n            });\n    };\n\n    self.processConfig = function (data) {\n        config = angular.copy(data);\n    };\n\n    self.override = function (key, value) {\n        if (value === 'true') {\n            value = true;\n        } else if (value === 'false') {\n            value = false;\n        } else if ($.isNumeric(value)) {\n            value = parseFloat(value);\n        }\n        overridden[key] = value;\n        $cookieStore.put(\"configService:overridden\", overridden);\n    };\n\n    self.removeOverridden = function (key) {\n        delete overridden[key];\n        $cookieStore.put(\"configService:overridden\", overridden);\n    };\n\n    self.resetOverridden = function () {\n        overridden = {};\n        $cookieStore.put(\"configService:overridden\", overridden);\n    };\n\n    self.getOverridden = function () {\n        return angular.copy(overridden);\n    };\n\n    var overridden = $cookieStore.get(\"configService:overridden\") || {};\n    $window.configService = self;\n    return self;\n}]);\n\nm.config(['$httpProvider', function($httpProvider) {\n    var configService;\n    $httpProvider.interceptors.push(function($injector){\n        return {\n            request: function(config){\n                if (!$injector.has('configService')) {\n                    console.log('There is no configuration service available.');\n                    return config;\n                }\n                configService = configService || $injector.get(\"configService\");\n                if (config.url.split(\"?\")[0].match(/\\.\\w+$/) !== null){\n                    return config;\n                }\n                var overridden = obj2get(configService.getOverridden(), \"config.\", [\"user\", \"time\", \"debug\"]);\n                if (overridden === \"\"){\n                    return config;\n                }\n                config.url += config.url.indexOf(\"?\") === -1 ? \"?\" : \"&\";\n                config.url += overridden;\n                return config;\n            }\n        };\n    });\n}]);\n\n\nvar loggingServiceLoaded;\nif (loggingServiceLoaded){\n    throw \"LoggingService already loaded\";\n}\nloggingServiceLoaded = true;\n\nvar m = angular.module('proso.apps.common-logging', []);\n\nm.factory(\"loggingService\", [\"$window\", function($window) {\n    if (!!$window.loggingService){\n        return $window.loggingService;\n    }\n\n    var self = this;\n    var debugLog = [];\n    var debugLogListeners = [];\n\n    self.getDebugLog = function() {\n        return debugLog;\n    };\n\n    self.extendDebugLog = function(url, events) {\n        events.forEach(function(e) {\n            e.url = url;\n            debugLog.push(e);\n        });\n        debugLogListeners.forEach(function(listener) {\n            listener(events);\n        });\n    };\n\n    self.addDebugLogListener = function(listener) {\n        debugLogListeners.push(listener);\n    };\n\n    $window.loggingService = self;\n    return self;\n}]);\n\nm.config(['$httpProvider', function($httpProvider) {\n    var loggingService;\n    $httpProvider.interceptors.push(function($injector) {\n        return {\n            response: function(response) {\n                loggingService = loggingService || $injector.get(\"loggingService\");\n                if (response.data instanceof Object && 'debug_log' in response.data) {\n                    loggingService.extendDebugLog(response.config.url, response.data.debug_log);\n                }\n                return response;\n            }\n        };\n    });\n}]);\n\nvar m = angular.module('proso.apps.common-toolbar', ['ngCookies', 'proso.apps.common-config']);\n\nm.controller(\"ToolbarController\", ['$scope', '$cookies', 'configService', 'loggingService', '$timeout', function($scope, $cookies, configService, loggingService, $timeout) {\n    $scope.override = configService.override;\n    $scope.removeOverridden = configService.removeOverridden;\n    $scope.date = new Date();\n    $scope.debugLog = [];\n    $scope.opened = $cookies[\"toolbar:opened\"] === \"true\";\n    $scope.loggingOpened = true;\n    $scope.override('debug', true);\n    $scope.overridden = configService.getOverridden();\n    loggingService.addDebugLogListener(function(events) {\n        $timeout(function(){\n            events.forEach(function (e) {\n                $scope.debugLog.unshift(e);\n            });\n        });\n    });\n\n    $scope.$watch(\"opened\", function(n, o){\n        $cookies[\"toolbar:opened\"] = n;\n    });\n\n    $scope.addToOverride = function(name) {\n        if (!name) {\n            return;\n        }\n        configService.override(name, '');\n    };\n\n    $scope.getOverridden = function() {\n        var overridden = configService.getOverridden();\n        Object.keys(overridden).filter(function(k) {\n            return (k === 'user' || k === 'debug' || k === 'time');\n        }).forEach(function (k) {\n            delete overridden[k];\n        });\n        return overridden;\n    };\n\n}]);\n\nm.directive('toolbar', [function () {\n    return {\n        restrict: 'E',\n        controller: 'ToolbarController',\n        templateUrl: 'templates/common-toolbar/toolbar.html'\n    };\n}]);\n\nvar m = angular.module('proso.apps.feedback-comment', ['ui.bootstrap', 'proso.apps.gettext']);\n\nm.directive('feedbackComment', ['$modal', '$window', 'gettext', function ($modal, $window, gettext) {\n    return {\n        restrict: 'A',\n        template: ['<div id=\"feedback\">',\n                   '<a href=\"\" class=\"btn btn-primary\" ng-click=\"openFeedback()\">',\n                   gettext('Write to us'),\n                   '</a>',\n                   '</div>'].join('\\n'),\n\n        link: function ($scope, element, attrs) {\n            $scope.feedback = {\n                email: '@',\n                text: '',\n            };\n\n            $scope.openFeedback = function () {\n                if (attrs.email) {\n                    $scope.feedback.email = attrs.email;\n                }\n\n                $modal.open({\n                    templateUrl: 'templates/feedback-comment/comment.html',\n                    controller: ModalFeedbackCtrl,\n                    size: 'lg',\n                    resolve: {\n                        feedback: function () {\n                            return $scope.feedback;\n                        }\n                    }\n                });\n            };\n\n            var ModalFeedbackCtrl = ['$scope', '$modalInstance', '$http', '$cookies', '$location', 'feedback', 'gettext',\n                function ($scope, $modalInstance, $http, $cookies, $location, feedback, gettext) {\n\n                $scope.feedback = feedback;\n                $scope.alerts = [];\n\n                $scope.send = function() {\n                    feedback.page = $location.absUrl();\n                    $http.defaults.headers.post['X-CSRFToken'] = $cookies.csrftoken;\n                    $http.post('/feedback/', feedback).success(function(data){\n                        $scope.alerts.push({\n                            type : 'success',\n                            msg : gettext('Feedback jsme přijali. Děkujeme Vám za zaslané informace. Feedback od uživatelů je k nezaplacení.'),\n                        });\n                        $scope.sending = false;\n                        feedback.text = '';\n                    }).error(function(){\n                        $scope.alerts.push({\n                            type : 'danger',\n                            msg : gettext(\"Something wrong has happened.\"),\n                        });\n                        $scope.sending = false;\n                    });\n                    $scope.sending = true;\n                };\n\n                $scope.closeAlert = function(index) {\n                    $scope.alerts.splice(index, 1);\n                };\n\n                $scope.cancel = function () {\n                    $modalInstance.dismiss('cancel');\n                };\n            }];\n        }\n    };\n}]);\n\nvar m = angular.module('proso.apps.feedback-rating', ['ui.bootstrap', 'proso.apps.gettext']);\n\nm.controller('RatingModalController', ['$scope', '$rootScope', '$modal', function ($scope, $rootScope, $modal) {\n\n    $scope.open = function() {\n        if ($scope.email) {\n            $scope.feedback.email = $scope.email;\n        }\n\n        $modal.open({\n            templateUrl: 'templates/feedback-rating/rating.html',\n            controller: 'RatingModalInstanceController',\n            size: 'lg',\n            resolve: {\n                feedback: function () {\n                    return $scope.feedback;\n                }\n            }\n        });\n    };\n\n    $rootScope.$on('openRatingModal', function(event, args) {\n        $scope.open();\n    });\n}]);\n\nm.controller('RatingModalInstanceController', ['$scope', '$modalInstance', '$http', '$cookies', 'gettext', function($scope, $modalInstance, $http, $cookies, gettext) {\n\n    $scope.alerts = [];\n\n    $scope.vote = function(answer) {\n        $scope.answer = answer;\n        $http.defaults.headers.post['X-CSRFToken'] = $cookies.csrftoken;\n        $http.post('/feedback/rating', {'value': answer}).success(function(data){\n            $scope.alerts.push({\n                type : 'success',\n                msg : gettext('Thank you for your rating.'),\n            });\n            $scope.sending = false;\n        }).error(function(){\n            $scope.alerts.push({\n                type : 'danger',\n                msg : gettext(\"Something wrong has happened.\"),\n            });\n            $scope.sending = false;\n        });\n        $scope.sending = true;\n    };\n\n    $scope.closeAlert = function(index) {\n        $scope.alerts.splice(index, 1);\n        $modalInstance.dismiss('cancel');\n    };\n    $scope.cancel = function() {\n        $modalInstance.dismiss('cancel');\n    };\n}]);\n\nm.directive('ratingModal', ['$window', function ($window) {\n    return {\n        restrict: 'E',\n        controller: 'RatingModalController',\n    };\n}]);\n\n\nvar m = angular.module('proso.apps.flashcards-practice', ['ngCookies', 'proso.apps.common-config']);\nm.service(\"practiceService\", [\"$http\", \"$q\", \"configService\", \"$cookies\", function($http, $q, configService, $cookies){\n    var self = this;\n\n    var queue = [];\n    var deferredFC = null;\n    var promiseResolvedTmp = false;\n    var currentFC = null;\n    var answerQueue = [];\n\n    var config = {};\n    var current = 0;\n    var setId = 0;\n    var summary = {};\n\n    var contexts = {};\n\n    // called on create and set reset\n    self.initSet = function(configName){\n        var key = \"practice.\" + configName + \".\";\n        config.set_length = configService.getConfig(\"proso_flashcards\", key + \"set_length\", 10);\n        config.fc_queue_size_max = configService.getConfig(\"proso_flashcards\", key + \"fc_queue_size_max\", 1);\n        config.fc_queue_size_min = configService.getConfig(\"proso_flashcards\", key + \"fc_queue_size_min\", 1);\n        config.save_answer_immediately = configService.getConfig(\"proso_flashcards\", key + \"save_answer_immediately\", false);\n        config.cache_context = configService.getConfig(\"proso_flashcards\", key + \"cache_context\", false);\n\n        self.setFilter({});\n        current = 0;\n        self.flushAnswerQueue();\n        self.clearQueue();\n        deferredFC = null;\n        setId++;\n        summary = {\n            flashcards: [],\n            answers: [],\n            correct: 0,\n            count: 0\n        };\n    };\n\n    self.setFilter = function(filter){\n        config.filter = {\n            contexts: [],\n            categories: [],\n            types: []\n        };\n        angular.extend(config.filter, filter);\n    };\n\n    self.getCurrent = function(){\n        return current;\n    };\n\n    self.getConfig = function(){\n        return angular.copy(config);\n    };\n\n    // add answer to queue and upload queued answers if necessary\n    self.saveAnswer = function(answer, farceSave){\n        if (answer) {\n            answer.time = Date.now();\n            answerQueue.push(answer);\n            summary.answers.push(answer);\n            summary.count++;\n            if (answer.flashcard_id === answer.flashcard_answered_id) {\n                summary.correct++;\n            }\n        }\n\n        if (config.save_answer_immediately || farceSave || current >= config.set_length) {\n            if (answerQueue.length > 0) {\n                answerQueue.forEach(function(answer){\n                    answer.time_gap = Math.round((Date.now() - answer.time) / 1000);\n                    delete answer.time;\n                });\n                $http.defaults.headers.post['X-CSRFToken'] = $cookies.csrftoken;\n                $http.post(\"/flashcards/answer/\", {answers: answerQueue})\n                    .error(function (response) {\n                        console.error(\"Problem while uploading answer\", response);\n                    });\n                answerQueue = [];\n            }\n        }\n    };\n\n    self.flushAnswerQueue = function(){\n        self.saveAnswer(null, true);\n    };\n\n    // build answer from current FC and save\n    self.saveAnswerToCurrentFC = function(answeredFCId, responseTime, meta){\n        if (!currentFC) {\n            console.error(\"There is no current flashcard\");\n            return;\n        }\n        var answer = {\n            flashcard_id: currentFC.id,\n            flashcard_answered_id: answeredFCId,\n            response_time: responseTime,\n            direction: currentFC.direction\n        };\n        if (meta) {\n            answer.meta = meta;\n        }\n        if (currentFC.options){\n            answer.option_ids = [];\n            currentFC.options.forEach(function(o){\n                if (o.id !== currentFC.id) {\n                    answer.option_ids.push(o.id);\n                }\n            });\n        }\n        self.saveAnswer(answer);\n    };\n\n    // return promise of flashcard\n    self.getFlashcard = function(){\n        if(deferredFC){\n            return $q(function(resolve, reject){\n                reject(\"Already one flashcard promised\");\n            });\n        }\n        deferredFC  = $q.defer();\n        promiseResolvedTmp = false;\n        _resolvePromise();\n        deferredFC.promise.then(function(){ deferredFC = null;}, function(){ deferredFC = null;});\n        return deferredFC.promise;\n    };\n\n    self.clearQueue = function(){\n        queue = [];\n    };\n\n    // preload flashcards\n    self.preloadFlashcards = function(){\n        _loadFlashcards();\n    };\n\n    self.getFCQueue = function(){\n        return queue;\n    };\n\n    self.getAnswerQueue = function(){\n        return answerQueue;\n    };\n\n    self.getSummary = function(){\n        var s = angular.copy(summary);\n        for (var i = 0; i < Math.min(s.flashcards.length, s.answers.length); i++){\n            var answer = s.answers[i];\n            var flashcard = s.flashcards[i];\n            if (flashcard.id === answer.flashcard_id){\n                flashcard.answer = answer;\n            }\n            answer.correct = answer.flashcard_id === answer.flashcard_answered_id;\n        }\n        return s;\n    };\n\n\n    var _loadFlashcards = function(){\n        if (queue.length >= config.fc_queue_size_min) { return; }                                       // if there are some FC queued\n            config.filter.limit  = config.fc_queue_size_max - queue.length;\n        if (deferredFC && !promiseResolvedTmp) { config.filter.limit ++; }                  // if we promised one flashcard\n        config.filter.limit = Math.min(config.filter.limit, config.set_length - current - queue.length);  // check size of set\n        if (config.filter.limit === 0) {return;}                         // nothing to do\n        config.filter.avoid = currentFC ? [currentFC.id] : [];      // avoid current FC\n        queue.forEach(function(fc){\n            config.filter.avoid.push(fc.id);\n        });\n\n        var filter = {};\n        for (var key in config.filter){\n            if (config.filter[key] instanceof Array) {\n                filter[key] = JSON.stringify(config.filter[key]);\n            }else{\n                filter[key] = config.filter[key];\n            }\n        }\n        if (config.cache_context){\n            filter.without_contexts = 1;\n        }\n\n        var request;\n        if (answerQueue.length === 0) {\n            request = $http.get(\"/flashcards/practice/\", {params: filter});\n        }else{\n            $http.defaults.headers.post['X-CSRFToken'] = $cookies.csrftoken;\n            request = $http.post(\"/flashcards/practice/\", {answers: answerQueue}, {params: filter});\n            answerQueue = [];\n        }\n        var request_in_set = setId;\n        request\n            .success(function(response){\n                if (request_in_set !== setId) {\n                    return;\n                }\n                queue = queue.concat(response.data.flashcards);\n                _loadContexts();\n                if (queue.length > 0) {\n                    _resolvePromise();\n                }\n                else{\n                    console.error(\"No Flashcards to practice\");\n                }\n            })\n            .error(function (response) {\n                if (deferredFC !== null){\n                    deferredFC.reject(\"Something went wrong while loading flashcards from backend.\");\n                }\n                console.error(\"Something went wrong while loading flashcards from backend.\");\n            });\n\n    };\n\n    var _loadContexts = function(){\n        if (config.cache_context){\n            queue.forEach(function(fc){\n                if (fc.context_id in contexts){\n                    if (contexts[fc.context_id] !== \"loading\"){\n                        fc.context = contexts[fc.context_id];\n                    }\n                }else{\n                    contexts[fc.context_id] = \"loading\";\n                    $http.get(\"/flashcards/context/\" + fc.context_id)\n                        .success(function(response){\n                            contexts[fc.context_id] = response.data;\n                            _resolvePromise();\n                        }).error(function(){\n                            delete contexts[fc.context_id];\n                            console.error(\"Error while loading context from backend\");\n                        });\n                }\n            });\n        }\n    };\n\n    var _resolvePromise = function(){\n        if (deferredFC === null){\n            return;\n        }\n        if (config.set_length === current){\n            deferredFC.reject(\"Set was completed\");\n            return;\n        }\n        if (queue.length > 0) {\n            if (config.cache_context){\n                if (typeof contexts[queue[0].context_id]  === 'object'){\n                    queue[0].context = contexts[queue[0].context_id];\n                }else{\n                    return;\n                }\n            }\n            currentFC = queue.shift();\n            current++;\n            promiseResolvedTmp = true;\n            summary.flashcards.push(currentFC);\n            deferredFC.resolve(currentFC);\n        }\n        _loadFlashcards();\n    };\n}]);\n\nvar m = angular.module('proso.apps.flashcards-userStats', ['ngCookies']);\nm.service(\"userStatsService\", [\"$http\", \"$cookies\", function($http, $cookies){\n    var self = this;\n\n    var filters = {};\n\n    self.addGroup = function (id, data) {\n        if (!data.language){\n            delete data.language;\n        }\n        filters[id] = data;\n    };\n\n    self.addGroupParams = function (id, categories, contexts, types, language) {\n        filters[id] = {\n            categories: categories,\n            contexts: contexts,\n            types: types\n        };\n        if (typeof language !== \"undefined\"){\n            filters[id].language = language;\n        }\n    };\n\n    self.getStats = function(mastered, username){\n        $http.defaults.headers.post['X-CSRFToken'] = $cookies.csrftoken;\n        var params = {filters: JSON.stringify(filters)};\n        if (mastered){\n            params.mastered = true;\n        }\n        if (username){\n            params.username = username;\n        }\n        return $http.get(\"/flashcards/user_stats/\", {params: params});\n    };\n\n    self.getStatsPost = function(mastered, username){\n        $http.defaults.headers.post['X-CSRFToken'] = $cookies.csrftoken;\n        var params = \"?\";\n        params += mastered ? \"&mastered=true\" : \"\";\n        params += username ? \"&username=\"+username : \"\";\n        return $http.post(\"/flashcards/user_stats/\" + params, filters);\n    };\n\n    self.clean = function(){\n        filters = {};\n    };\n\n    self.getGroups = function (){\n        return angular.copy(filters);\n    };\n\n}]);\n\nvar m = angular.module('proso.apps.user-user', ['ngCookies']);\nm.service(\"userService\", [\"$http\", function($http){\n    var self = this;\n    self.status = {\n        \"logged\": false,\n        \"loading\": false\n    };\n    self.user = {};\n    var update = this.update = {};\n    var sessionUpdated = false;\n    self.error = {};\n\n    // called on create\n    self.init = function (){\n    };\n\n    self.signup = function(data){\n        self.status.loading = true;\n        _resetError();\n        return $http.post(\"/user/signup/\", data)\n            .success(function(response){\n                _processUser(response.data);\n            })\n            .error(function(response){\n                self.error = response;\n            })\n            .finally(function(response){\n                self.status.loading = false;\n            });\n    };\n\n    self.signupParams = function(name, email, pass, pass2, firstName, lastName){\n        return self.signup({\n            \"username\": name,\n            \"email\": email,\n            \"password\": pass,\n            \"password_check\": pass2,\n            \"first_name\": firstName,\n            \"last_name\": lastName\n        });\n    };\n\n    // get public user profile from backend\n    self.getUserProfile = function(username, stats){\n        var params = {username: username};\n        if (stats){\n            params.stats = true;\n        }\n        return $http.get(\"/user/profile/\", {params: params});\n    };\n\n    // get user profile from backend\n    self.loadUser = function(stats){\n        self.status.loading = true;\n        var params = {};\n        if (stats){\n            params.stats = true;\n        }\n        return $http.get(\"/user/profile/\", {params: params})\n            .success(function(response){\n                _processUser(response.data);\n            })\n            .finally(function(response){\n                self.status.loading = false;\n            });\n    };\n\n    self.processUser = function(data){\n        _processUser(angular.copy(data));\n    };\n\n    // process user data\n    var _processUser = function(data){\n        if (!data) {\n            self.status.logged = false;\n            return;\n        }\n        self.status.logged = true;\n        self.user.profile = data;\n        angular.extend(self.user, data.user);\n        angular.extend(update, {\n            user: {\n                first_name: self.user.first_name,\n                last_name: self.user.last_name\n            },\n            send_emails: self.user.profile.send_emails,\n            public: self.user.profile.public\n        });\n        delete self.user.profile.user;\n        if (!sessionUpdated){\n            self.updateSession();\n            sessionUpdated = true;\n        }\n    };\n\n    self.login = function(name, pass){\n        self.status.loading = true;\n        _resetError();\n        return $http.post(\"/user/login/\", {\n            username: name,\n            password: pass\n        })\n            .success(function(response){\n                _processUser(response.data);\n            })\n            .error(function(response){\n                self.error = response;\n            })\n            .finally(function(response){\n                self.status.loading = false;\n            });\n    };\n\n    self.logout = function(){\n        self.status.loading = true;\n        $http.get(\"/user/logout/\")\n            .success(function(response){\n                clearObj(self.user);\n                self.status.logged = false;\n            })\n            .finally(function(response){\n                self.status.loading = false;\n            });\n    };\n\n\n    var _resetError = function(){\n        clearObj(self.error);\n    };\n\n    var clearObj = function(obj){\n        for (var prop in obj) {\n            if (obj.hasOwnProperty(prop)){ delete obj[prop]; }\n        }\n    };\n\n\n    self.loadUserFromJS = function (scope, stats) {\n        scope.$apply(self.loadUser(stats));\n    };\n\n    self.loadSession = function(){\n        self.status.loading = true;\n        $http.get(\"/user/session/\")\n            .success(function(response){\n                self.user.session = response.data;\n            })\n            .finally(function(response){\n                self.status.loading = false;\n            });\n    };\n\n    self.updateSession = function(){\n        var data = {\n            locale: window.navigator.language || window.navigator.userLanguage || window.navigator.browserLanguage,\n            display_height: window.innerHeight,\n            display_width: window.innerWidth\n        };\n        try{\n            data.time_zone = jstz.determine().name();\n        }catch (err){ console.log(\"JSTimeZone lib not loaded\");}\n        $http.post(\"/user/session/\", data).error(function(){\n            console.error(\"Error while updating session\");\n        });\n    };\n\n    self.updateProfile = function(data){\n        self.status.loading = true;\n        _resetError();\n        var promise = $http.post(\"/user/profile/\", data);\n        promise.success(function(response){\n                _processUser(response.data);\n            })\n            .error(function(response){\n                self.error = response;\n            }).finally(function(response){\n                self.status.loading = false;\n            });\n        return promise;\n    };\n\n    self.loginGoogle = function() {\n        _openPopup('/login/google-oauth2/', '/user/close_popup/');\n    };\n\n    self.loginFacebook = function() {\n        _openPopup('/login/facebook/', '/user/close_popup/');\n    };\n\n    var _openPopup = function(url, next){\n        var settings = 'height=700,width=700,left=100,top=100,resizable=yes,scrollbars=yes,toolbar=no,menubar=no,location=yes,directories=no,status=yes';\n        url += \"?next=\" + next;\n        window.open(url, \"popup\", settings);\n    };\n\n    self.init();\n\n}]);\n\nvar m = angular.module('proso.apps.user-login', ['ui.bootstrap', 'proso.apps.gettext', 'proso.apps.user-user', 'angulartics', 'angulartics.google.analytics']);\n\nm.controller('LoginController', ['$scope', '$modalInstance', 'signupModal', 'userService', 'gettext', '$analytics',\n    function ($scope, $modalInstance, signupModal, userService, gettext, $analytics) {\n\n    $scope.credentials = {};\n    $scope.alerts = [];\n\n    $scope.cancel = function () {\n        $modalInstance.dismiss('cancel');\n    };\n\n    $scope.loginGoogle = function() {\n        $analytics.eventTrack('click', {\n            category: 'login',\n            label: '/login/google',\n        });\n        userService.loginGoogle();\n    };\n\n    $scope.loginFacebook = function() {\n        $analytics.eventTrack('click', {\n            category: 'login',\n            label: '/login/facebook',\n        });\n        userService.loginFacebook();\n    };\n\n    $scope.loginEmail = function() {\n        $analytics.eventTrack('click', {\n            category: 'login',\n            label: '/login/email',\n        });\n        userService\n            .login($scope.credentials.name, $scope.credentials.password)\n            .error($scope.onError);\n    };\n\n    $scope.openSignupModal = function() {\n        $scope.cancel();\n        signupModal.open();\n    };\n\n    $scope.signup = function() {\n        $analytics.eventTrack('click', {\n            category: 'signup',\n            label: '/signup/email',\n        });\n        userService.signupParams(\n            $scope.credentials.username,\n            $scope.credentials.email,\n            $scope.credentials.password,\n            $scope.credentials.password_check,\n            $scope.credentials.first_name,\n            $scope.credentials.last_name\n        );\n    };\n\n    $scope.onError = function(error) {\n        $analytics.eventTrack('error', {\n            category: 'login',\n            label: 'error/login'\n        });\n        $scope.alerts.push({\n            type: error.type || 'danger',\n            msg: error.msg || gettext('Something wrong has happened.')\n        });\n    };\n\n    $scope.closeAlert = function(index) {\n        $scope.alerts.splice(index, 1);\n    };\n}]);\n\nm.factory('signupModal', ['$modal', function($modal) {\n    return {\n        open: function() {\n            $modal.open({\n                templateUrl: 'templates/user-login/signup-modal.html',\n                controller: 'LoginController',\n            });\n        }\n    };\n}]);\n\nm.factory('loginModal', [\"$modal\", function($modal) {\n    return {\n        open: function() {\n            $modal.open({\n                templateUrl: 'templates/user-login/login-modal.html',\n                controller: 'LoginController',\n            });\n        }\n    };\n}]);\n\nm.directive('loginButton', ['loginModal', function(loginModal) {\n    return {\n        restrict: 'A',\n        link: function (scope, element) {\n            element.bind('click', function(){\n                loginModal.open();\n            });\n        }\n    };\n}]);\n\nangular.module(\"templates/common-toolbar/toolbar.html\", []).run([\"$templateCache\", function($templateCache) {\n  $templateCache.put(\"templates/common-toolbar/toolbar.html\",\n    \"<div id=\\\"proso-toolbar\\\">\\n\" +\n    \"    <div id=\\\"config-bar-show-button\\\" ng-click=\\\"opened = !opened\\\" ng-hide=\\\"opened\\\"> proso bar </div>\\n\" +\n    \"\\n\" +\n    \"    <div id=\\\"config-bar\\\" ng-cloak ng-show=\\\"opened\\\">\\n\" +\n    \"        <div id=\\\"config-bar-header\\\">\\n\" +\n    \"            <span id=\\\"config-bar-hide\\\" ng-click=\\\"opened = !opened\\\">Close</span>\\n\" +\n    \"        </div>\\n\" +\n    \"        <ul id=\\\"config-bar-content\\\">\\n\" +\n    \"            <li>\\n\" +\n    \"                <span ng-click=\\\"addToOverride(propertyToOverride)\\\" class=\\\"add-to-override\\\">+</span>\\n\" +\n    \"                <input type=\\\"text\\\" ng-model=\\\"propertyToOverride\\\" id=\\\"config-bar-property-name\\\" placeholder=\\\"Property Name\\\" />\\n\" +\n    \"            </li>\\n\" +\n    \"            <li>\\n\" +\n    \"                <span ng-click=\\\"removeOverridden('user'); overridden.user = null;\\\" class=\\\"reset\\\">X</span>\\n\" +\n    \"                <input type=\\\"number\\\" ng-model=\\\"overridden.user\\\" placeholder=\\\"User\\\" ng-change=\\\"override('user', overridden.user)\\\" />\\n\" +\n    \"            </li>\\n\" +\n    \"            <li>\\n\" +\n    \"                <span ng-click=\\\"removeOverridden('time'); overridden.time= null;\\\" class=\\\"reset\\\">X</span>\\n\" +\n    \"                <input type=\\\"text\\\" ng-model=\\\"overridden.time\\\" placeholder=\\\"Time\\\" ng-change=\\\"override('time', overridden.time)\\\" />\\n\" +\n    \"                <i>{{date | date:'yyyy-MM-dd_HH:mm:ss'}}</i>\\n\" +\n    \"            </li>\\n\" +\n    \"            <li ng-repeat=\\\"(name, value) in getOverridden() track by name\\\">\\n\" +\n    \"                <span class=\\\"reset\\\" ng-click=\\\"removeOverridden(name)\\\">X</span>\\n\" +\n    \"                <input type=\\\"text\\\" disabled class=\\\"property-name\\\" ng-model=\\\"name\\\" />\\n\" +\n    \"                <input type=\\\"text\\\" class=\\\"property-value\\\" placeholder=\\\"Value\\\" ng-model=\\\"value\\\" ng-change=\\\"override(name, value)\\\" />\\n\" +\n    \"            </li>\\n\" +\n    \"            <div class='section' ng-click=\\\"loggingOpened = !loggingOpened\\\">Logging</div>\\n\" +\n    \"            <ul id=\\\"config-bar-logging\\\" ng-cloak ng-show=\\\"loggingOpened\\\">\\n\" +\n    \"                <li ng-repeat=\\\"event in debugLog|limitTo:100\\\" class=\\\"logging-event\\\">\\n\" +\n    \"                    <span class=\\\"level\\\">{{ event.level }}</span>\\n\" +\n    \"                    <span class=\\\"url\\\">{{ event.url }}</span>\\n\" +\n    \"                    <span class=\\\"filename\\\">{{ event.filename }}:{{ event.line_number }}</span>\\n\" +\n    \"                    <span class=\\\"message\\\">{{ event.message }}</span>\\n\" +\n    \"                </li>\\n\" +\n    \"            </ul>\\n\" +\n    \"        </ul>\\n\" +\n    \"    </div>\\n\" +\n    \"</div>\\n\" +\n    \"\");\n}]);\n\nangular.module(\"templates/feedback-comment/comment.html\", []).run([\"$templateCache\", function($templateCache) {\n  $templateCache.put(\"templates/feedback-comment/comment.html\",\n    \"<div class=\\\"modal-header\\\">\\n\" +\n    \"    <h3 class=\\\"modal-title\\\">{{ \\\"Write to us\\\" | trans }}</h3>\\n\" +\n    \"</div>\\n\" +\n    \"<div class=\\\"modal-body\\\">\\n\" +\n    \"    <label>\\n\" +\n    \"      {{ \\\"Did you find a bug in the app? Do you have an improvement idea? Or any other comment? We are eager to hear anything you'd like to tell us.\\\" | trans }}\\n\" +\n    \"    </label>\\n\" +\n    \"    <textarea ng-model=\\\"feedback.text\\\" class=\\\"form-control\\\" rows=\\\"8\\\" ></textarea>\\n\" +\n    \"    <label>\\n\" +\n    \"      {{ \\\"Your email address (optional)\\\" | trans }}\\n\" +\n    \"    </label>\\n\" +\n    \"    <input type=\\\"text\\\" ng-model=\\\"feedback.email\\\" class=\\\"form-control\\\"/>\\n\" +\n    \"    <br>\\n\" +\n    \"    <alert ng-repeat=\\\"alert in alerts\\\" type=\\\"{{alert.type}}\\\" close=\\\"closeAlert($index)\\\">{{alert.msg}}</alert>\\n\" +\n    \"</div>\\n\" +\n    \"<div class=\\\"modal-footer\\\">\\n\" +\n    \"    <button ng-disabled=\\\"sending\\\" class=\\\"btn btn-primary\\\" ng-click=\\\"send()\\\">\\n\" +\n    \"      {{ \\\"Send\\\" | trans }}\\n\" +\n    \"    </button>\\n\" +\n    \"    <button class=\\\"btn btn-danger\\\" ng-click=\\\"cancel()\\\">\\n\" +\n    \"      {{ \\\"Close\\\" | trans }}\\n\" +\n    \"    </button>\\n\" +\n    \"</div>\\n\" +\n    \"\\n\" +\n    \"\");\n}]);\n\nangular.module(\"templates/feedback-rating/rating.html\", []).run([\"$templateCache\", function($templateCache) {\n  $templateCache.put(\"templates/feedback-rating/rating.html\",\n    \"<div class=\\\"modal-header text-center\\\">\\n\" +\n    \"    <h3 class=\\\"modal-title\\\">{{ \\\"How difficult are the questions?\\\" | trans }}</h3>\\n\" +\n    \"    {{ \\\"Your answer helps us adjust difficulty of questions.\\\" | trans}}\\n\" +\n    \"</div>\\n\" +\n    \"<div class=\\\"rating modal-body\\\">\\n\" +\n    \"    <div class=\\\" text-center\\\" ng-hide=\\\"answer\\\">\\n\" +\n    \"        <a class=\\\"btn btn-lg btn-success\\\" ng-click=\\\"vote(1)\\\">\\n\" +\n    \"            {{\\\"Too easy\\\" | trans }}\\n\" +\n    \"        </a>\\n\" +\n    \"        <a class=\\\"btn btn-lg btn-primary\\\" ng-click=\\\"vote(2)\\\">\\n\" +\n    \"            {{ \\\"Appropriate\\\" | trans }}\\n\" +\n    \"        </a>\\n\" +\n    \"        <a class=\\\"btn btn-lg btn-danger\\\" ng-click=\\\"vote(3)\\\">\\n\" +\n    \"            {{ \\\"Too difficult\\\" | trans }}\\n\" +\n    \"        </a>\\n\" +\n    \"        <div class=\\\"clearfix\\\"></div>\\n\" +\n    \"        <a class=\\\"pull-right dont-know\\\" href=\\\"\\\" ng-click=\\\"cancel()\\\">\\n\" +\n    \"            {{ \\\"Don't know / Don't want to rate\\\" | trans }}\\n\" +\n    \"        </a>\\n\" +\n    \"        <div class=\\\"clearfix\\\"></div>\\n\" +\n    \"    </div>\\n\" +\n    \"    <alert ng-repeat=\\\"alert in alerts\\\" type=\\\"{{alert.type}}\\\" close=\\\"closeAlert($index)\\\">{{alert.msg}}</alert>\\n\" +\n    \"</div>\\n\" +\n    \"<div class=\\\"modal-footer\\\" ng-show=\\\"answer\\\">\\n\" +\n    \"    <button class=\\\"btn btn-danger\\\" ng-click=\\\"cancel()\\\">\\n\" +\n    \"        {{ \\\"Close\\\" | trans }}\\n\" +\n    \"    </button>\\n\" +\n    \"</div>\\n\" +\n    \"\\n\" +\n    \"\");\n}]);\n\nangular.module(\"templates/user-login/login-modal.html\", []).run([\"$templateCache\", function($templateCache) {\n  $templateCache.put(\"templates/user-login/login-modal.html\",\n    \"<div class=\\\"modal-header text-center\\\">\\n\" +\n    \"    <button type=\\\"button\\\" class=\\\"close\\\" ng-click=\\\"cancel()\\\">\\n\" +\n    \"        <span aria-hidden=\\\"true\\\">&times;</span>\\n\" +\n    \"    </button>\\n\" +\n    \"    <h3 class=\\\"modal-title\\\"> {{ \\\"Sign In\\\" | trans }} </h3>\\n\" +\n    \"</div>\\n\" +\n    \"<div class=\\\"modal-body\\\">\\n\" +\n    \"    <a class=\\\"btn btn-danger btn-lg btn-block\\\"\\n\" +\n    \"        track-click=\\\"login\\\"\\n\" +\n    \"        href=\\\"/login/google-oauth2/\\\">\\n\" +\n    \"        <i class=\\\"social-google\\\"></i> {{ \\\"via Google\\\" | trans }}\\n\" +\n    \"    </a>\\n\" +\n    \"    <br>\\n\" +\n    \"    <a class=\\\"btn btn-primary btn-lg btn-block\\\"\\n\" +\n    \"        track-click=\\\"login\\\"\\n\" +\n    \"        href=\\\"/login/facebook/\\\">\\n\" +\n    \"        <i class=\\\"social-facebook\\\"></i>{{ \\\"via Facebook\\\" | trans }}\\n\" +\n    \"    </a>\\n\" +\n    \"\\n\" +\n    \"    <br>\\n\" +\n    \"    <hr>\\n\" +\n    \"    <br>\\n\" +\n    \"\\n\" +\n    \"    <form role=\\\"form\\\" ng-submit=\\\"loginEmail()\\\">\\n\" +\n    \"        <div class=\\\"form-group\\\">\\n\" +\n    \"            <input type=\\\"text\\\" class=\\\"form-control\\\" ng-model=\\\"credentials.username\\\"\\n\" +\n    \"            placeholder=\\\"{{ 'Username' | trans }}\\\">\\n\" +\n    \"        </div>\\n\" +\n    \"        <div class=\\\"form-group\\\">\\n\" +\n    \"            <input type=\\\"password\\\" class=\\\"form-control\\\" ng-model=\\\"credentials.password\\\"\\n\" +\n    \"            placeholder=\\\"{{ 'Password' | trans }}\\\">\\n\" +\n    \"        </div>\\n\" +\n    \"        <alert ng-repeat=\\\"alert in alerts\\\" type=\\\"{{alert.type}}\\\"\\n\" +\n    \"            close=\\\"closeAlert($index)\\\">{{alert.msg}}</alert>\\n\" +\n    \"        <button ng-disabled=\\\"userService.status.loading\\\" type=\\\"submit\\\"\\n\" +\n    \"            class=\\\"btn btn-primary btn-block btn-lg\\\">\\n\" +\n    \"            {{ 'Sign In' | trans }}\\n\" +\n    \"        </button>\\n\" +\n    \"\\n\" +\n    \"    </form>\\n\" +\n    \"</div>\\n\" +\n    \"<div class=\\\"modal-footer\\\" >\\n\" +\n    \"        <a class=\\\"btn btn-link\\\" ng-click=\\\"openSignupModal()\\\">\\n\" +\n    \"            {{ 'Sign Up' | trans }}\\n\" +\n    \"        </a>\\n\" +\n    \"\\n\" +\n    \"</div>\\n\" +\n    \"\");\n}]);\n\nangular.module(\"templates/user-login/signup-modal.html\", []).run([\"$templateCache\", function($templateCache) {\n  $templateCache.put(\"templates/user-login/signup-modal.html\",\n    \"<div class=\\\"modal-header text-center\\\">\\n\" +\n    \"    <button type=\\\"button\\\" class=\\\"close\\\" ng-click=\\\"cancel()\\\">\\n\" +\n    \"        <span aria-hidden=\\\"true\\\">&times;</span>\\n\" +\n    \"    </button>\\n\" +\n    \"    <h3 class=\\\"modal-title\\\"> {{ \\\"Sign up\\\" | trans }} </h3>\\n\" +\n    \"    <div ng-hide=\\\"success\\\">\\n\" +\n    \"        {{\\\" and get all the benefits of registered users.\\\" | trans }}\\n\" +\n    \"    </div>\\n\" +\n    \"</div>\\n\" +\n    \"<div class=\\\"modal-body\\\" ng-hide=\\\"success\\\">\\n\" +\n    \"    <div ng-hide=\\\"activateEmail\\\">\\n\" +\n    \"        <a class=\\\"btn btn-danger btn-lg btn-block\\\"\\n\" +\n    \"            track-click=\\\"login\\\"\\n\" +\n    \"            href=\\\"/login/google-oauth2/\\\">\\n\" +\n    \"            <i class=\\\"social-google\\\"></i> {{ \\\"via Google\\\" | trans }}\\n\" +\n    \"        </a>\\n\" +\n    \"        <br>\\n\" +\n    \"        <a class=\\\"btn btn-primary btn-lg btn-block\\\"\\n\" +\n    \"            track-click=\\\"login\\\"\\n\" +\n    \"            href=\\\"/login/facebook/\\\">\\n\" +\n    \"            <i class=\\\"social-facebook\\\"></i>{{ \\\"via Facebook\\\" | trans }}\\n\" +\n    \"        </a>\\n\" +\n    \"        <br>\\n\" +\n    \"        <a class=\\\"btn btn-info btn-lg btn-block\\\"\\n\" +\n    \"            ng-click=\\\"activateEmail=true\\\"\\n\" +\n    \"            href=\\\"\\\">\\n\" +\n    \"            <i class=\\\"glyphicon glyphicon-envelope\\\"></i> {{ \\\"via E-mail\\\" | trans }}\\n\" +\n    \"        </a>\\n\" +\n    \"    </div>\\n\" +\n    \"\\n\" +\n    \"    <form role=\\\"form\\\" ng-show=\\\"activateEmail\\\" ng-submit=\\\"signup()\\\">\\n\" +\n    \"        <div class=\\\"form-group\\\">\\n\" +\n    \"            <input type=\\\"email\\\" class=\\\"form-control\\\" ng-model=\\\"credentials.email\\\"\\n\" +\n    \"                placeholder=\\\"{{ 'E-mail' | trans }}\\\" required>\\n\" +\n    \"        </div>\\n\" +\n    \"        <div class=\\\"form-group\\\">\\n\" +\n    \"            <input type=\\\"text\\\" class=\\\"form-control\\\" ng-model=\\\"credentials.username\\\"\\n\" +\n    \"                placeholder=\\\"{{ 'Username' | trans }}\\\" required>\\n\" +\n    \"        </div>\\n\" +\n    \"        <div class=\\\"form-group\\\">\\n\" +\n    \"            <input type=\\\"password\\\" class=\\\"form-control\\\" ng-model=\\\"credentials.password\\\"\\n\" +\n    \"                placeholder=\\\"{{ 'Password' | trans }}\\\" required>\\n\" +\n    \"        </div>\\n\" +\n    \"        <div class=\\\"form-group\\\">\\n\" +\n    \"            <input type=\\\"password\\\" class=\\\"form-control\\\"\\n\" +\n    \"                ng-model=\\\"credentials.password_check\\\"\\n\" +\n    \"                placeholder=\\\"{{ 'Password again' | trans }}\\\" required>\\n\" +\n    \"        </div>\\n\" +\n    \"        <alert ng-repeat=\\\"alert in alerts\\\" type=\\\"{{alert.type}}\\\"\\n\" +\n    \"            close=\\\"closeAlert($index)\\\">{{alert.msg}}</alert>\\n\" +\n    \"        <button ng-disabled=\\\"userService.status.loading\\\" type=\\\"submit\\\" class=\\\"btn btn-primary btn-block btn-lg\\\">\\n\" +\n    \"            {{ 'Sign up' | trans }}\\n\" +\n    \"        </button>\\n\" +\n    \"    </form>\\n\" +\n    \"</div>\\n\" +\n    \"<div class=\\\"modal-body\\\" ng-show=\\\"success\\\" >\\n\" +\n    \"        <alert type=\\\"success\\\">\\n\" +\n    \"            {{ 'Registration was successful. You can continue to use the application.' | trans }}\\n\" +\n    \"        </alert>\\n\" +\n    \"</div>\\n\" +\n    \"\\n\" +\n    \"\");\n}]);\n!angular.$$csp() && angular.element(document).find('head').prepend('<style type=\"text/css\">#config-bar-show-button{position:fixed;right:-40px;top:250px;width:100px;transform:rotate(-90deg);-webkit-transform:rotate(-90deg);border:solid #808080 1px;margin:0;padding:10px;text-transform:capitalize;font-weight:bold;background-color:rgba(255,255,255,0.8);transition:all 0.2s;cursor:pointer;text-align:center;}#config-bar-show-button:hover{background-color:#1f8dd6;color:white;}#config-bar{position:fixed;right:0;top:0;bottom:0;width:500px;border-left:solid #808080 1px;background-color:rgba(255,255,255,0.8);z-index:1000;}#config-bar-header{background-color:rgba(31,141,214,0.8);margin:0;padding:10px 20px;text-align:right;color:white;}#config-bar-content .section{background-color:rgba(31,141,214,0.8);margin:0;padding:10px 20px;color:white;text-transform:uppercase;cursor:pointer;}#config-bar-hide{text-align:right;width:100%;cursor:pointer;}#config-bar-content{margin:0;list-style:none;padding:0;}#config-bar-content > li{border-bottom:1px dashed #E9F4FB;padding:10px 20px;margin:0;}#config-bar-content > li:hover{background:#E9F4FB;}#config-bar-content .reset,#config-bar-content .add-to-override{cursor:pointer;font-weight:bolder;}#config-bar-content input{padding:5px 10px;}#config-bar-content label{margin-left:10px;cursor:pointer;}#config-bar-content .link{text-transform:uppercase;cursor:pointer;font-weight:bold;}#config-bar-logging{list-style:none;margin:0;padding:0;max-height:500px;overflow-y:scroll;font-size:12px;}#config-bar-logging > li{margin:0;padding:5px 10px;border-bottom:1px solid #E9F4FB;}#config-bar-logging > li:hover{background-color:#E9F4FB;}#config-bar-logging .level{display:block;float:left;width:10%;font-weight:bold;}#config-bar-logging .url{font-weight:bold;margin-left:10px;display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;width:50%;float:left;}#config-bar-logging .filename{display:block;float:right;text-align:right;width:30%;font-weight:bold;}#config-bar-logging .message{display:block;clear:both;margin-top:20px;margin-bottom:5px;}#config-bar-content input{font-size:14px;}#config-bar-content .property-name{width:70%;}#config-bar-content .property-value{width:10%;text-align:center;}#config-bar-property-name{width:70%;}#config-bar-show-button{position:fixed;right:-40px;top:250px;width:100px;transform:rotate(-90deg);-webkit-transform:rotate(-90deg);border:solid #808080 1px;margin:0;padding:10px;text-transform:capitalize;font-weight:bold;background-color:rgba(255,255,255,0.8);transition:all 0.2s;cursor:pointer;text-align:center;}#config-bar-show-button:hover{background-color:#1f8dd6;color:white;}#config-bar{position:fixed;right:0;top:0;bottom:0;width:500px;border-left:solid #808080 1px;background-color:rgba(255,255,255,0.8);z-index:1000;}#config-bar-header{background-color:rgba(31,141,214,0.8);margin:0;padding:10px 20px;text-align:right;color:white;}#config-bar-content .section{background-color:rgba(31,141,214,0.8);margin:0;padding:10px 20px;color:white;text-transform:uppercase;cursor:pointer;}#config-bar-hide{text-align:right;width:100%;cursor:pointer;}#config-bar-content{margin:0;list-style:none;padding:0;}#config-bar-content > li{border-bottom:1px dashed #E9F4FB;padding:10px 20px;margin:0;}#config-bar-content > li:hover{background:#E9F4FB;}#config-bar-content .reset,#config-bar-content .add-to-override{cursor:pointer;font-weight:bolder;}#config-bar-content input{padding:5px 10px;}#config-bar-content label{margin-left:10px;cursor:pointer;}#config-bar-content .link{text-transform:uppercase;cursor:pointer;font-weight:bold;}#config-bar-logging{list-style:none;margin:0;padding:0;max-height:500px;overflow-y:scroll;font-size:12px;}#config-bar-logging > li{margin:0;padding:5px 10px;border-bottom:1px solid #E9F4FB;}#config-bar-logging > li:hover{background-color:#E9F4FB;}#config-bar-logging .level{display:block;float:left;width:10%;font-weight:bold;}#config-bar-logging .url{font-weight:bold;margin-left:10px;display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;width:50%;float:left;}#config-bar-logging .filename{display:block;float:right;text-align:right;width:30%;font-weight:bold;}#config-bar-logging .message{display:block;clear:both;margin-top:20px;margin-bottom:5px;}#config-bar-content input{font-size:14px;}#config-bar-content .property-name{width:70%;}#config-bar-content .property-value{width:10%;text-align:center;}#config-bar-property-name{width:70%;}</style>');\n!angular.$$csp() && angular.element(document).find('head').prepend('<style type=\"text/css\">.rating .btn{margin:20px;}</style>');"]}