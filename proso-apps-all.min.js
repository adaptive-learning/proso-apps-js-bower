/*! proso-apps-js - v1.0.0 - 2015-06-07 */


function obj2get(a,b,c){var d="";for(var e in a)a.hasOwnProperty(e)&&(""!==d&&(d+="&"),-1===c.indexOf(e)&&(d+=b),d+=e+"="+encodeURIComponent(a[e]));return d}angular.module("proso.apps",["proso.apps.tpls","proso.apps.common-config","proso.apps.common-logging","proso.apps.common-toolbar","proso.apps.gettext","proso.apps.feedback-comment","proso.apps.feedback-rating","proso.apps.flashcards-practice","proso.apps.flashcards-userStats","proso.apps.user-user","proso.apps.user-login"]),angular.module("proso.apps.tpls",["templates/common-toolbar/toolbar.html","templates/feedback-comment/comment.html","templates/feedback-rating/rating.html","templates/user-login/login-modal.html","templates/user-login/signup-modal.html"]),angular.module("proso.apps.gettext",[]).value("gettext",window.gettext||function(a){return a}).filter("trans",["gettext",function(a){return function(b){return a(b)}}]);var configServiceLoaded;if(configServiceLoaded)throw"ConfigService already loaded";configServiceLoaded=!0;var m=angular.module("proso.apps.common-config",["ngCookies"]);m.factory("configService",["$http","$window","$cookieStore",function(a,b,c){if(b.configService)return b.configService;var d=this,e=null;d.getConfig=function(a,b,c){var g=null;if("undefined"!=typeof f[a+"."+b])return g=f[a+"."+b],d.isDebug()&&console.log(a+"."+b,"overridden",g),g;if(null===e)return void console.error("Config not loaded");g=e[a];for(var h=b.split("."),i=0;i<h.length;i++){if("undefined"==typeof g)return d.isDebug()&&console.log(a+"."+b,"use default",c),c;g=g[h[i]]}return"undefined"==typeof g?(d.isDebug()&&console.log(a+"."+b,"use default",c),c):(d.isDebug()&&console.log(a+"."+b,"from config",g),g)},d.isDebug=function(){return f.debug===!0},d.loadConfig=function(){return a.get("/common/config/").success(function(a){d.processConfig(a.data)}).error(function(){console.error("Problem while loading config from server")})},d.processConfig=function(a){e=angular.copy(a)},d.override=function(a,b){"true"===b?b=!0:"false"===b?b=!1:$.isNumeric(b)&&(b=parseFloat(b)),f[a]=b,c.put("configService:overridden",f)},d.removeOverridden=function(a){delete f[a],c.put("configService:overridden",f)},d.resetOverridden=function(){f={},c.put("configService:overridden",f)},d.getOverridden=function(){return angular.copy(f)};var f=c.get("configService:overridden")||{};return b.configService=d,d}]),m.config(["$httpProvider",function(a){var b;a.interceptors.push(function(a){return{request:function(c){if(!a.has("configService"))return console.log("There is no configuration service available."),c;if(b=b||a.get("configService"),null!==c.url.split("?")[0].match(/\.\w+$/))return c;var d=obj2get(b.getOverridden(),"config.",["user","time","debug"]);return""===d?c:(c.url+=-1===c.url.indexOf("?")?"?":"&",c.url+=d,c)}}})}]);var loggingServiceLoaded;if(loggingServiceLoaded)throw"LoggingService already loaded";loggingServiceLoaded=!0;var m=angular.module("proso.apps.common-logging",[]);m.factory("loggingService",["$window",function(a){if(a.loggingService)return a.loggingService;var b=this,c=[],d=[];return b.getDebugLog=function(){return c},b.extendDebugLog=function(a,b){b.forEach(function(b){b.url=a,c.push(b)}),d.forEach(function(a){a(b)})},b.addDebugLogListener=function(a){d.push(a)},a.loggingService=b,b}]),m.config(["$httpProvider",function(a){var b;a.interceptors.push(function(a){return{response:function(c){return b=b||a.get("loggingService"),c.data instanceof Object&&"debug_log"in c.data&&b.extendDebugLog(c.config.url,c.data.debug_log),c}}})}]);var m=angular.module("proso.apps.common-toolbar",["ngCookies","proso.apps.common-config"]);m.controller("ToolbarController",["$scope","$cookies","configService","loggingService","$timeout",function(a,b,c,d,e){a.override=c.override,a.removeOverridden=c.removeOverridden,a.date=new Date,a.debugLog=[],a.opened="true"===b["toolbar:opened"],a.loggingOpened=!0,a.override("debug",!0),a.overridden=c.getOverridden(),d.addDebugLogListener(function(b){e(function(){b.forEach(function(b){a.debugLog.unshift(b)})})}),a.$watch("opened",function(a,c){b["toolbar:opened"]=a}),a.addToOverride=function(a){a&&c.override(a,"")},a.getOverridden=function(){var a=c.getOverridden();return Object.keys(a).filter(function(a){return"user"===a||"debug"===a||"time"===a}).forEach(function(b){delete a[b]}),a}}]),m.directive("toolbar",[function(){return{restrict:"E",controller:"ToolbarController",templateUrl:"templates/common-toolbar/toolbar.html"}}]);var m=angular.module("proso.apps.feedback-comment",["ui.bootstrap","proso.apps.gettext"]);m.directive("feedbackComment",["$modal","$window","gettext",function(a,b,c){return{restrict:"A",template:['<div id="feedback">','<a href="" class="btn btn-primary" ng-click="openFeedback()">',c("Write to us"),"</a>","</div>"].join("\n"),link:function(b,c,d){b.feedback={email:"@",text:""},b.openFeedback=function(){d.email&&(b.feedback.email=d.email),a.open({templateUrl:"templates/feedback-comment/comment.html",controller:e,size:"lg",resolve:{feedback:function(){return b.feedback}}})};var e=["$scope","$modalInstance","$http","$cookies","$location","feedback","gettext",function(a,b,c,d,e,f,g){a.feedback=f,a.alerts=[],a.send=function(){f.page=e.absUrl(),c.defaults.headers.post["X-CSRFToken"]=d.csrftoken,c.post("/feedback/",f).success(function(b){a.alerts.push({type:"success",msg:g("Feedback jsme přijali. Děkujeme Vám za zaslané informace. Feedback od uživatelů je k nezaplacení.")}),a.sending=!1,f.text=""}).error(function(){a.alerts.push({type:"danger",msg:g("Something wrong has happened.")}),a.sending=!1}),a.sending=!0},a.closeAlert=function(b){a.alerts.splice(b,1)},a.cancel=function(){b.dismiss("cancel")}}]}}}]);var m=angular.module("proso.apps.feedback-rating",["ui.bootstrap","proso.apps.gettext"]);m.controller("RatingModalController",["$scope","$rootScope","$modal",function(a,b,c){a.open=function(){a.email&&(a.feedback.email=a.email),c.open({templateUrl:"templates/feedback-rating/rating.html",controller:"RatingModalInstanceController",size:"lg",resolve:{feedback:function(){return a.feedback}}})},b.$on("openRatingModal",function(b,c){a.open()})}]),m.controller("RatingModalInstanceController",["$scope","$modalInstance","$http","$cookies","gettext",function(a,b,c,d,e){a.alerts=[],a.vote=function(b){a.answer=b,c.defaults.headers.post["X-CSRFToken"]=d.csrftoken,c.post("/feedback/rating",{value:b}).success(function(b){a.alerts.push({type:"success",msg:e("Thank you for your rating.")}),a.sending=!1}).error(function(){a.alerts.push({type:"danger",msg:e("Something wrong has happened.")}),a.sending=!1}),a.sending=!0},a.closeAlert=function(c){a.alerts.splice(c,1),b.dismiss("cancel")},a.cancel=function(){b.dismiss("cancel")}}]),m.directive("ratingModal",["$window",function(a){return{restrict:"E",controller:"RatingModalController"}}]);var m=angular.module("proso.apps.flashcards-practice",["ngCookies","proso.apps.common-config"]);m.service("practiceService",["$http","$q","configService","$cookies",function(a,b,c,d){var e=this,f=[],g=null,h=!1,i=null,j=[],k={},l=0,m=0,n={},o={};e.initSet=function(a){var b="practice."+a+".";k.set_length=c.getConfig("proso_flashcards",b+"set_length",10),k.fc_queue_size_max=c.getConfig("proso_flashcards",b+"fc_queue_size_max",1),k.fc_queue_size_min=c.getConfig("proso_flashcards",b+"fc_queue_size_min",1),k.save_answer_immediately=c.getConfig("proso_flashcards",b+"save_answer_immediately",!1),k.cache_context=c.getConfig("proso_flashcards",b+"cache_context",!1),e.setFilter({}),l=0,e.flushAnswerQueue(),e.clearQueue(),g=null,m++,n={flashcards:[],answers:[],correct:0,count:0}},e.setFilter=function(a){k.filter={contexts:[],categories:[],types:[]},angular.extend(k.filter,a)},e.getCurrent=function(){return l},e.getConfig=function(){return angular.copy(k)},e.saveAnswer=function(b,c){b&&(b.time=Date.now(),j.push(b),n.answers.push(b),n.count++,b.flashcard_id===b.flashcard_answered_id&&n.correct++),(k.save_answer_immediately||c||l>=k.set_length)&&j.length>0&&(j.forEach(function(a){a.time_gap=Math.round((Date.now()-a.time)/1e3),delete a.time}),a.defaults.headers.post["X-CSRFToken"]=d.csrftoken,a.post("/flashcards/answer/",{answers:j}).error(function(a){console.error("Problem while uploading answer",a)}),j=[])},e.flushAnswerQueue=function(){e.saveAnswer(null,!0)},e.saveAnswerToCurrentFC=function(a,b,c){if(!i)return void console.error("There is no current flashcard");var d={flashcard_id:i.id,flashcard_answered_id:a,response_time:b,direction:i.direction};c&&(d.meta=c),i.options&&(d.option_ids=[],i.options.forEach(function(a){a.id!==i.id&&d.option_ids.push(a.id)})),e.saveAnswer(d)},e.getFlashcard=function(){return g?b(function(a,b){b("Already one flashcard promised")}):(g=b.defer(),h=!1,r(),g.promise.then(function(){g=null},function(){g=null}),g.promise)},e.clearQueue=function(){f=[]},e.preloadFlashcards=function(){p()},e.getFCQueue=function(){return f},e.getAnswerQueue=function(){return j},e.getSummary=function(){for(var a=angular.copy(n),b=0;b<Math.min(a.flashcards.length,a.answers.length);b++){var c=a.answers[b],d=a.flashcards[b];d.id===c.flashcard_id&&(d.answer=c),c.correct=c.flashcard_id===c.flashcard_answered_id}return a};var p=function(){if(!(f.length>=k.fc_queue_size_min)&&(k.filter.limit=k.fc_queue_size_max-f.length,g&&!h&&k.filter.limit++,k.filter.limit=Math.min(k.filter.limit,k.set_length-l-f.length),0!==k.filter.limit)){k.filter.avoid=i?[i.id]:[],f.forEach(function(a){k.filter.avoid.push(a.id)});var b={};for(var c in k.filter)k.filter[c]instanceof Array?b[c]=JSON.stringify(k.filter[c]):b[c]=k.filter[c];k.cache_context&&(b.without_contexts=1);var e;0===j.length?e=a.get("/flashcards/practice/",{params:b}):(a.defaults.headers.post["X-CSRFToken"]=d.csrftoken,e=a.post("/flashcards/practice/",{answers:j},{params:b}),j=[]);var n=m;e.success(function(a){n===m&&(f=f.concat(a.data.flashcards),q(),f.length>0?r():console.error("No Flashcards to practice"))}).error(function(a){null!==g&&g.reject("Something went wrong while loading flashcards from backend."),console.error("Something went wrong while loading flashcards from backend.")})}},q=function(){k.cache_context&&f.forEach(function(b){b.context_id in o?"loading"!==o[b.context_id]&&(b.context=o[b.context_id]):(o[b.context_id]="loading",a.get("/flashcards/context/"+b.context_id).success(function(a){o[b.context_id]=a.data,r()}).error(function(){delete o[b.context_id],console.error("Error while loading context from backend")}))})},r=function(){if(null!==g){if(k.set_length===l)return void g.reject("Set was completed");if(f.length>0){if(k.cache_context){if("object"!=typeof o[f[0].context_id])return;f[0].context=o[f[0].context_id]}i=f.shift(),l++,h=!0,n.flashcards.push(i),g.resolve(i)}p()}}}]);var m=angular.module("proso.apps.flashcards-userStats",["ngCookies"]);m.service("userStatsService",["$http","$cookies",function(a,b){var c=this,d={};c.addGroup=function(a,b){b.language||delete b.language,d[a]=b},c.addGroupParams=function(a,b,c,e,f){d[a]={categories:b,contexts:c,types:e},"undefined"!=typeof f&&(d[a].language=f)},c.getStats=function(c,e){a.defaults.headers.post["X-CSRFToken"]=b.csrftoken;var f={filters:JSON.stringify(d)};return c&&(f.mastered=!0),e&&(f.username=e),a.get("/flashcards/user_stats/",{params:f})},c.getStatsPost=function(c,e){a.defaults.headers.post["X-CSRFToken"]=b.csrftoken;var f="?";return f+=c?"&mastered=true":"",f+=e?"&username="+e:"",a.post("/flashcards/user_stats/"+f,d)},c.clean=function(){d={}},c.getGroups=function(){return angular.copy(d)}}]);var m=angular.module("proso.apps.user-user",["ngCookies"]);m.service("userService",["$http",function(a){var b=this;b.status={logged:!1,loading:!1},b.user={};var c=this.update={},d=!1;b.error={},b.init=function(){},b.signup=function(c){return b.status.loading=!0,f(),a.post("/user/signup/",c).success(function(a){e(a.data)}).error(function(a){b.error=a})["finally"](function(a){b.status.loading=!1})},b.signupParams=function(a,c,d,e,f,g){return b.signup({username:a,email:c,password:d,password_check:e,first_name:f,last_name:g})},b.getUserProfile=function(b,c){var d={username:b};return c&&(d.stats=!0),a.get("/user/profile/",{params:d})},b.loadUser=function(c){b.status.loading=!0;var d={};return c&&(d.stats=!0),a.get("/user/profile/",{params:d}).success(function(a){e(a.data)})["finally"](function(a){b.status.loading=!1})},b.processUser=function(a){e(angular.copy(a))};var e=function(a){return a?(b.status.logged=!0,b.user.profile=a,angular.extend(b.user,a.user),angular.extend(c,{user:{first_name:b.user.first_name,last_name:b.user.last_name},send_emails:b.user.profile.send_emails,"public":b.user.profile["public"]}),delete b.user.profile.user,void(d||(b.updateSession(),d=!0))):void(b.status.logged=!1)};b.login=function(c,d){b.status.loading=!0,f();var g=a.post("/user/login/",{username:c,password:d});return g.success(function(a){e(a.data)}).error(function(a){b.error=a})["finally"](function(a){b.status.loading=!1}),g},b.logout=function(){b.status.loading=!0,a.get("/user/logout/").success(function(a){g(b.user),b.status.logged=!1})["finally"](function(a){b.status.loading=!1})};var f=function(){g(b.error)},g=function(a){for(var b in a)a.hasOwnProperty(b)&&delete a[b]};b.loadUserFromJS=function(a,c){a.$apply(b.loadUser(c))},b.loadSession=function(){b.status.loading=!0,a.get("/user/session/").success(function(a){b.user.session=a.data})["finally"](function(a){b.status.loading=!1})},b.updateSession=function(){var b={locale:window.navigator.language||window.navigator.userLanguage||window.navigator.browserLanguage,display_height:window.innerHeight,display_width:window.innerWidth};try{b.time_zone=jstz.determine().name()}catch(c){console.log("JSTimeZone lib not loaded")}a.post("/user/session/",b).error(function(){console.error("Error while updating session")})},b.updateProfile=function(c){var d={user:{}};c.profile&&angular.extend(d,c.profile),angular.extend(d.user,c),delete d.user.profile,delete d.user.username,b.status.loading=!0,f();var g=a.post("/user/profile/",d);return g.success(function(a){e(a.data)}).error(function(a){b.error=a})["finally"](function(a){b.status.loading=!1}),g},b.loginGoogle=function(){h("/login/google-oauth2/","/user/close_popup/")},b.loginFacebook=function(){h("/login/facebook/","/user/close_popup/")};var h=function(a,b){var c="height=700,width=700,left=100,top=100,resizable=yes,scrollbars=yes,toolbar=no,menubar=no,location=yes,directories=no,status=yes";a+="?next="+b,window.open(a,"popup",c)};b.init()}]);var m=angular.module("proso.apps.user-login",["ui.bootstrap","proso.apps.gettext","proso.apps.user-user","angulartics","angulartics.google.analytics"]);m.controller("LoginController",["$scope","$modalInstance","signupModal","userService","gettext","$analytics",function(a,b,c,d,e,f){a.credentials={},a.alerts=[],a.cancel=function(){b.dismiss("cancel")},a.loginGoogle=function(){f.eventTrack("click",{category:"login",label:"/login/google"}),d.loginGoogle()},a.loginFacebook=function(){f.eventTrack("click",{category:"login",label:"/login/facebook"}),d.loginFacebook()},a.loginEmail=function(){f.eventTrack("click",{category:"login",label:"/login/email"}),d.login(a.credentials.username,a.credentials.password).error(a.onError).success(function(){a.cancel()})},a.openSignupModal=function(){a.cancel(),c.open()},a.signup=function(){f.eventTrack("click",{category:"signup",label:"/signup/email"}),d.signupParams(a.credentials.username,a.credentials.email,a.credentials.password,a.credentials.password_check,a.credentials.first_name,a.credentials.last_name)},a.onError=function(b){f.eventTrack("error",{category:"login",label:"error/login"}),a.alerts.push({type:b.type||"danger",msg:b.msg||e("Something wrong has happened.")})},a.closeAlert=function(b){a.alerts.splice(b,1)}}]),m.factory("signupModal",["$modal",function(a){return{open:function(){a.open({templateUrl:"templates/user-login/signup-modal.html",controller:"LoginController"})}}}]),m.factory("loginModal",["$modal",function(a){return{open:function(){a.open({templateUrl:"templates/user-login/login-modal.html",controller:"LoginController"})}}}]),m.directive("loginButton",["loginModal",function(a){return{restrict:"A",link:function(b,c){c.bind("click",function(){a.open()})}}}]),angular.module("templates/common-toolbar/toolbar.html",[]).run(["$templateCache",function(a){a.put("templates/common-toolbar/toolbar.html",'<div id="proso-toolbar">\n    <div id="config-bar-show-button" ng-click="opened = !opened" ng-hide="opened"> proso bar </div>\n\n    <div id="config-bar" ng-cloak ng-show="opened">\n        <div id="config-bar-header">\n            <span id="config-bar-hide" ng-click="opened = !opened">Close</span>\n        </div>\n        <ul id="config-bar-content">\n            <li>\n                <span ng-click="addToOverride(propertyToOverride)" class="add-to-override">+</span>\n                <input type="text" ng-model="propertyToOverride" id="config-bar-property-name" placeholder="Property Name" />\n            </li>\n            <li>\n                <span ng-click="removeOverridden(\'user\'); overridden.user = null;" class="reset">X</span>\n                <input type="number" ng-model="overridden.user" placeholder="User" ng-change="override(\'user\', overridden.user)" />\n            </li>\n            <li>\n                <span ng-click="removeOverridden(\'time\'); overridden.time= null;" class="reset">X</span>\n                <input type="text" ng-model="overridden.time" placeholder="Time" ng-change="override(\'time\', overridden.time)" />\n                <i>{{date | date:\'yyyy-MM-dd_HH:mm:ss\'}}</i>\n            </li>\n            <li ng-repeat="(name, value) in getOverridden() track by name">\n                <span class="reset" ng-click="removeOverridden(name)">X</span>\n                <input type="text" disabled class="property-name" ng-model="name" />\n                <input type="text" class="property-value" placeholder="Value" ng-model="value" ng-change="override(name, value)" />\n            </li>\n            <div class=\'section\' ng-click="loggingOpened = !loggingOpened">Logging</div>\n            <ul id="config-bar-logging" ng-cloak ng-show="loggingOpened">\n                <li ng-repeat="event in debugLog|limitTo:100" class="logging-event">\n                    <span class="level">{{ event.level }}</span>\n                    <span class="url">{{ event.url }}</span>\n                    <span class="filename">{{ event.filename }}:{{ event.line_number }}</span>\n                    <span class="message">{{ event.message }}</span>\n                </li>\n            </ul>\n        </ul>\n    </div>\n</div>\n')}]),angular.module("templates/feedback-comment/comment.html",[]).run(["$templateCache",function(a){a.put("templates/feedback-comment/comment.html",'<div class="modal-header">\n    <h3 class="modal-title">{{ "Write to us" | trans }}</h3>\n</div>\n<div class="modal-body">\n    <label>\n      {{ "Did you find a bug in the app? Do you have an improvement idea? Or any other comment? We are eager to hear anything you\'d like to tell us." | trans }}\n    </label>\n    <textarea ng-model="feedback.text" class="form-control" rows="8" ></textarea>\n    <label>\n      {{ "Your email address (optional)" | trans }}\n    </label>\n    <input type="text" ng-model="feedback.email" class="form-control"/>\n    <br>\n    <alert ng-repeat="alert in alerts" type="{{alert.type}}" close="closeAlert($index)">{{alert.msg}}</alert>\n</div>\n<div class="modal-footer">\n    <button ng-disabled="sending" class="btn btn-primary" ng-click="send()">\n      {{ "Send" | trans }}\n    </button>\n    <button class="btn btn-danger" ng-click="cancel()">\n      {{ "Close" | trans }}\n    </button>\n</div>\n\n')}]),angular.module("templates/feedback-rating/rating.html",[]).run(["$templateCache",function(a){a.put("templates/feedback-rating/rating.html",'<div class="modal-header text-center">\n    <h3 class="modal-title">{{ "How difficult are the questions?" | trans }}</h3>\n    {{ "Your answer helps us adjust difficulty of questions." | trans}}\n</div>\n<div class="rating modal-body">\n    <div class=" text-center" ng-hide="answer">\n        <a class="btn btn-lg btn-success" ng-click="vote(1)">\n            {{"Too easy" | trans }}\n        </a>\n        <a class="btn btn-lg btn-primary" ng-click="vote(2)">\n            {{ "Appropriate" | trans }}\n        </a>\n        <a class="btn btn-lg btn-danger" ng-click="vote(3)">\n            {{ "Too difficult" | trans }}\n        </a>\n        <div class="clearfix"></div>\n        <a class="pull-right dont-know" href="" ng-click="cancel()">\n            {{ "Don\'t know / Don\'t want to rate" | trans }}\n        </a>\n        <div class="clearfix"></div>\n    </div>\n    <alert ng-repeat="alert in alerts" type="{{alert.type}}" close="closeAlert($index)">{{alert.msg}}</alert>\n</div>\n<div class="modal-footer" ng-show="answer">\n    <button class="btn btn-danger" ng-click="cancel()">\n        {{ "Close" | trans }}\n    </button>\n</div>\n\n')}]),angular.module("templates/user-login/login-modal.html",[]).run(["$templateCache",function(a){a.put("templates/user-login/login-modal.html",'<div class="modal-header text-center">\n    <button type="button" class="close" ng-click="cancel()">\n        <span aria-hidden="true">&times;</span>\n    </button>\n    <h3 class="modal-title"> {{ "Sign In" | trans }} </h3>\n</div>\n<div class="modal-body">\n    <a class="btn btn-danger btn-lg btn-block"\n        track-click="login"\n        href="/login/google-oauth2/">\n        <i class="social-google"></i> {{ "via Google" | trans }}\n    </a>\n    <br>\n    <a class="btn btn-primary btn-lg btn-block"\n        track-click="login"\n        href="/login/facebook/">\n        <i class="social-facebook"></i>{{ "via Facebook" | trans }}\n    </a>\n\n    <br>\n    <hr>\n    <br>\n\n    <form role="form" ng-submit="loginEmail()">\n        <div class="form-group">\n            <input type="text" class="form-control" ng-model="credentials.username"\n            placeholder="{{ \'Username\' | trans }}">\n        </div>\n        <div class="form-group">\n            <input type="password" class="form-control" ng-model="credentials.password"\n            placeholder="{{ \'Password\' | trans }}">\n        </div>\n        <alert ng-repeat="alert in alerts" type="{{alert.type}}"\n            close="closeAlert($index)">{{alert.msg}}</alert>\n        <button ng-disabled="userService.status.loading" type="submit"\n            class="btn btn-primary btn-block btn-lg">\n            {{ \'Sign In\' | trans }}\n        </button>\n\n    </form>\n</div>\n<div class="modal-footer" >\n        <a class="btn btn-link" ng-click="openSignupModal()">\n            {{ \'Sign Up\' | trans }}\n        </a>\n\n</div>\n')}]),angular.module("templates/user-login/signup-modal.html",[]).run(["$templateCache",function(a){a.put("templates/user-login/signup-modal.html",'<div class="modal-header text-center">\n    <button type="button" class="close" ng-click="cancel()">\n        <span aria-hidden="true">&times;</span>\n    </button>\n    <h3 class="modal-title"> {{ "Sign up" | trans }} </h3>\n    <div ng-hide="success">\n        {{" and get all the benefits of registered users." | trans }}\n    </div>\n</div>\n<div class="modal-body" ng-hide="success">\n    <div ng-hide="activateEmail">\n        <a class="btn btn-danger btn-lg btn-block"\n            track-click="login"\n            href="/login/google-oauth2/">\n            <i class="social-google"></i> {{ "via Google" | trans }}\n        </a>\n        <br>\n        <a class="btn btn-primary btn-lg btn-block"\n            track-click="login"\n            href="/login/facebook/">\n            <i class="social-facebook"></i>{{ "via Facebook" | trans }}\n        </a>\n        <br>\n        <a class="btn btn-info btn-lg btn-block"\n            ng-click="activateEmail=true"\n            href="">\n            <i class="glyphicon glyphicon-envelope"></i> {{ "via E-mail" | trans }}\n        </a>\n    </div>\n\n    <form role="form" ng-show="activateEmail" ng-submit="signup()">\n        <div class="form-group">\n            <input type="email" class="form-control" ng-model="credentials.email"\n                placeholder="{{ \'E-mail\' | trans }}" required>\n        </div>\n        <div class="form-group">\n            <input type="text" class="form-control" ng-model="credentials.username"\n                placeholder="{{ \'Username\' | trans }}" required>\n        </div>\n        <div class="form-group">\n            <input type="password" class="form-control" ng-model="credentials.password"\n                placeholder="{{ \'Password\' | trans }}" required>\n        </div>\n        <div class="form-group">\n            <input type="password" class="form-control"\n                ng-model="credentials.password_check"\n                placeholder="{{ \'Password again\' | trans }}" required>\n        </div>\n        <alert ng-repeat="alert in alerts" type="{{alert.type}}"\n            close="closeAlert($index)">{{alert.msg}}</alert>\n        <button ng-disabled="userService.status.loading" type="submit" class="btn btn-primary btn-block btn-lg">\n            {{ \'Sign up\' | trans }}\n        </button>\n    </form>\n</div>\n<div class="modal-body" ng-show="success" >\n        <alert type="success">\n            {{ \'Registration was successful. You can continue to use the application.\' | trans }}\n        </alert>\n</div>\n\n')}]),!angular.$$csp()&&angular.element(document).find("head").prepend('<style type="text/css">#config-bar-show-button{position:fixed;right:-40px;top:250px;width:100px;transform:rotate(-90deg);-webkit-transform:rotate(-90deg);border:solid #808080 1px;margin:0;padding:10px;text-transform:capitalize;font-weight:bold;background-color:rgba(255,255,255,0.8);transition:all 0.2s;cursor:pointer;text-align:center;}#config-bar-show-button:hover{background-color:#1f8dd6;color:white;}#config-bar{position:fixed;right:0;top:0;bottom:0;width:500px;border-left:solid #808080 1px;background-color:rgba(255,255,255,0.8);z-index:1000;}#config-bar-header{background-color:rgba(31,141,214,0.8);margin:0;padding:10px 20px;text-align:right;color:white;}#config-bar-content .section{background-color:rgba(31,141,214,0.8);margin:0;padding:10px 20px;color:white;text-transform:uppercase;cursor:pointer;}#config-bar-hide{text-align:right;width:100%;cursor:pointer;}#config-bar-content{margin:0;list-style:none;padding:0;}#config-bar-content > li{border-bottom:1px dashed #E9F4FB;padding:10px 20px;margin:0;}#config-bar-content > li:hover{background:#E9F4FB;}#config-bar-content .reset,#config-bar-content .add-to-override{cursor:pointer;font-weight:bolder;}#config-bar-content input{padding:5px 10px;}#config-bar-content label{margin-left:10px;cursor:pointer;}#config-bar-content .link{text-transform:uppercase;cursor:pointer;font-weight:bold;}#config-bar-logging{list-style:none;margin:0;padding:0;max-height:500px;overflow-y:scroll;font-size:12px;}#config-bar-logging > li{margin:0;padding:5px 10px;border-bottom:1px solid #E9F4FB;}#config-bar-logging > li:hover{background-color:#E9F4FB;}#config-bar-logging .level{display:block;float:left;width:10%;font-weight:bold;}#config-bar-logging .url{font-weight:bold;margin-left:10px;display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;width:50%;float:left;}#config-bar-logging .filename{display:block;float:right;text-align:right;width:30%;font-weight:bold;}#config-bar-logging .message{display:block;clear:both;margin-top:20px;margin-bottom:5px;}#config-bar-content input{font-size:14px;}#config-bar-content .property-name{width:70%;}#config-bar-content .property-value{width:10%;text-align:center;}#config-bar-property-name{width:70%;}#config-bar-show-button{position:fixed;right:-40px;top:250px;width:100px;transform:rotate(-90deg);-webkit-transform:rotate(-90deg);border:solid #808080 1px;margin:0;padding:10px;text-transform:capitalize;font-weight:bold;background-color:rgba(255,255,255,0.8);transition:all 0.2s;cursor:pointer;text-align:center;}#config-bar-show-button:hover{background-color:#1f8dd6;color:white;}#config-bar{position:fixed;right:0;top:0;bottom:0;width:500px;border-left:solid #808080 1px;background-color:rgba(255,255,255,0.8);z-index:1000;}#config-bar-header{background-color:rgba(31,141,214,0.8);margin:0;padding:10px 20px;text-align:right;color:white;}#config-bar-content .section{background-color:rgba(31,141,214,0.8);margin:0;padding:10px 20px;color:white;text-transform:uppercase;cursor:pointer;}#config-bar-hide{text-align:right;width:100%;cursor:pointer;}#config-bar-content{margin:0;list-style:none;padding:0;}#config-bar-content > li{border-bottom:1px dashed #E9F4FB;padding:10px 20px;margin:0;}#config-bar-content > li:hover{background:#E9F4FB;}#config-bar-content .reset,#config-bar-content .add-to-override{cursor:pointer;font-weight:bolder;}#config-bar-content input{padding:5px 10px;}#config-bar-content label{margin-left:10px;cursor:pointer;}#config-bar-content .link{text-transform:uppercase;cursor:pointer;font-weight:bold;}#config-bar-logging{list-style:none;margin:0;padding:0;max-height:500px;overflow-y:scroll;font-size:12px;}#config-bar-logging > li{margin:0;padding:5px 10px;border-bottom:1px solid #E9F4FB;}#config-bar-logging > li:hover{background-color:#E9F4FB;}#config-bar-logging .level{display:block;float:left;width:10%;font-weight:bold;}#config-bar-logging .url{font-weight:bold;margin-left:10px;display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;width:50%;float:left;}#config-bar-logging .filename{display:block;float:right;text-align:right;width:30%;font-weight:bold;}#config-bar-logging .message{display:block;clear:both;margin-top:20px;margin-bottom:5px;}#config-bar-content input{font-size:14px;}#config-bar-content .property-name{width:70%;}#config-bar-content .property-value{width:10%;text-align:center;}#config-bar-property-name{width:70%;}</style>'),!angular.$$csp()&&angular.element(document).find("head").prepend('<style type="text/css">.rating .btn{margin:20px;}</style>');
//# sourceMappingURL=proso-apps-all.min.js.map