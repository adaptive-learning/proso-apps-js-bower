/*! proso-apps-js - v1.0.0 - 2015-05-26 */


function obj2get(a,b,c){var d="";for(var e in a)a.hasOwnProperty(e)&&(""!==d&&(d+="&"),-1===c.indexOf(e)&&(d+=b),d+=e+"="+encodeURIComponent(a[e]));return d}var configServiceLoaded;if(configServiceLoaded)throw"ConfigService already loaded";configServiceLoaded=!0;var m=angular.module("proso.apps.common-config",["ngCookies"]);m.factory("configService",["$http","$window","$cookieStore",function(a,b,c){if(b.configService)return b.configService;var d=this,e=null;d.getConfig=function(a,b,c){var g=null;if("undefined"!=typeof f[a+"."+b])return g=f[a+"."+b],d.isDebug()&&console.log(a+"."+b,"overridden",g),g;if(null===e)return void console.error("Config not loaded");g=e[a];for(var h=b.split("."),i=0;i<h.length;i++){if("undefined"==typeof g)return d.isDebug()&&console.log(a+"."+b,"use default",c),c;g=g[h[i]]}return"undefined"==typeof g?(d.isDebug()&&console.log(a+"."+b,"use default",c),c):(d.isDebug()&&console.log(a+"."+b,"from config",g),g)},d.isDebug=function(){return f.debug===!0},d.loadConfig=function(){return a.get("/common/config/").success(function(a){d.processConfig(a.data)}).error(function(){console.error("Problem while loading config from server")})},d.processConfig=function(a){e=angular.copy(a)},d.override=function(a,b){"true"===b?b=!0:"false"===b?b=!1:$.isNumeric(b)&&(b=parseFloat(b)),f[a]=b,c.put("configService:overridden",f)},d.removeOverridden=function(a){delete f[a],c.put("configService:overridden",f)},d.resetOverridden=function(){f={},c.put("configService:overridden",f)},d.getOverridden=function(){return angular.copy(f)};var f=c.get("configService:overridden")||{};return b.configService=d,d}]),m.config(["$httpProvider",function(a){var b;a.interceptors.push(function(a){return{request:function(c){if(!a.has("configService"))return console.log("There is no configuration service available."),c;if(b=b||a.get("configService"),null!==c.url.split("?")[0].match(/\.\w+$/))return c;var d=obj2get(b.getOverridden(),"config.",["user","time","debug"]);return""===d?c:(c.url+=-1===c.url.indexOf("?")?"?":"&",c.url+=d,c)}}})}]);var config={A:{a:10,b:{c:{d:42},e:11},f:53},B:{}};describe("Config Service",function(){var a,b;beforeEach(module("proso.apps.common-config","ngCookies")),beforeEach(inject(function(c){a=c.get("$httpBackend"),b=c.get("configService")})),beforeEach(inject(function(a){a.configService=null})),afterEach(function(){a.verifyNoOutstandingExpectation(),a.verifyNoOutstandingRequest()}),it("should provide interface",function(){expect(b.getConfig).toBeDefined(),expect(b.processConfig).toBeDefined(),expect(b.loadConfig).toBeDefined()}),it("should use processed config",function(){b.processConfig(config),expect(b.getConfig("A","b")).toEqual(config.A.b)}),it("should copy processed config",function(){b.processConfig(config),expect(b.getConfig("A","b")).not.toBe(config.A.b)}),it("should access nested vars",function(){b.processConfig(config),expect(b.getConfig("A","a")).toEqual(10),expect(b.getConfig("A","f")).toEqual(53),expect(b.getConfig("A","b.e")).toEqual(11),expect(b.getConfig("A","b.c.d")).toEqual(42)}),it("should return unknown for vars not in config",function(){b.processConfig(config),expect(b.getConfig("A","x")).not.toBeDefined(),expect(b.getConfig("A","x.y")).not.toBeDefined(),expect(b.getConfig("A","b.c.e")).not.toBeDefined(),expect(b.getConfig("A","")).not.toBeDefined(),expect(b.getConfig("C","a")).not.toBeDefined()}),it("should return default value for vars not in config",function(){b.processConfig(config),expect(b.getConfig("A","x",61)).toBe(61),expect(b.getConfig("A","x.y",62)).toBe(62),expect(b.getConfig("A","b.c.e",63)).toBe(63),expect(b.getConfig("A","",64)).toBe(64),expect(b.getConfig("C","a",65)).toBe(65)}),it("should load config",function(){a.expectGET("/common/config/").respond({data:config}),b.loadConfig(),a.flush(),expect(b.getConfig("A","b")).toEqual(config.A.b)}),it("should load config and return promise",function(){var c=jasmine.createSpy("success");a.expectGET("/common/config/").respond({data:config}),b.loadConfig().then(c),expect(c).not.toHaveBeenCalled(),a.flush(),expect(c).toHaveBeenCalled()})});var loggingServiceLoaded;if(loggingServiceLoaded)throw"LoggingService already loaded";loggingServiceLoaded=!0;var m=angular.module("proso.apps.common-logging",[]);m.factory("loggingService",["$window",function(a){if(a.loggingService)return a.loggingService;var b=this,c=[],d=[];return b.getDebugLog=function(){return c},b.extendDebugLog=function(a,b){b.forEach(function(b){b.url=a,c.push(b)}),d.forEach(function(a){a(b)})},b.addDebugLogListener=function(a){d.push(a)},a.loggingService=b,b}]),m.config(["$httpProvider",function(a){var b;a.interceptors.push(function(a){return{response:function(c){return b=b||a.get("loggingService"),c.data instanceof Object&&"debug_log"in c.data&&b.extendDebugLog(c.config.url,c.data.debug_log),c}}})}]);var m=angular.module("proso.apps.common-toolbar",["ngCookies","proso.apps.common-config"]);m.controller("ToolbarController",function(a,b,c,d){a.override=c.override,a.removeOverridden=c.removeOverridden,a.date=new Date,a.debugLog=[],a.opened="true"===b["toolbar:opened"],a.loggingOpened=!0,a.override("debug",!0),a.overridden=c.getOverridden(),d.addDebugLogListener(function(b){a.$apply(function(){b.forEach(function(b){a.debugLog.unshift(b)})})}),a.$watch("opened",function(a,c){b["toolbar:opened"]=a}),a.addToOverride=function(a){a&&c.override(a,"")},a.getOverridden=function(){var a=c.getOverridden();return Object.keys(a).filter(function(a){return"user"===a||"debug"===a||"time"===a}).forEach(function(b){delete a[b]}),a}}),m.directive("toolbar",[function(){return{restrict:"E",controller:"ToolbarController",templateUrl:"templates/common-toolbar/toolbar.html"}}]);var m=angular.module("proso.apps.feedback-comment",["ui.bootstrap","proso.apps.gettext"]);m.directive("feedbackComment",["$modal","$window","gettext",function(a,b,c){return{restrict:"E",template:['<div id="feedback">','<a href="" class="btn btn-primary" ng-click="openFeedback()">',c("Write to us"),"</a>","</div>"].join("\n"),link:function(b,c,d){b.feedback={email:"@",text:""},b.openFeedback=function(){d.email&&(b.feedback.email=d.email),a.open({templateUrl:"templates/feedback-comment/comment.html",controller:e,size:"lg",resolve:{feedback:function(){return b.feedback}}})};var e=["$scope","$modalInstance","$http","$cookies","$location","feedback","gettext",function(a,b,c,d,e,f,g){a.feedback=f,a.alerts=[],a.send=function(){f.page=e.absUrl(),c.defaults.headers.post["X-CSRFToken"]=d.csrftoken,c.post("/feedback/",f).success(function(b){a.alerts.push({type:"success",msg:g("Feedback jsme přijali. Děkujeme Vám za zaslané informace. Feedback od uživatelů je k nezaplacení.")}),a.sending=!1,f.text=""}).error(function(){a.alerts.push({type:"danger",msg:g("Something wrong has happened.")}),a.sending=!1}),a.sending=!0},a.closeAlert=function(b){a.alerts.splice(b,1)},a.cancel=function(){b.dismiss("cancel")}}]}}}]);var dummy,m=angular.module("proso.apps.demo");m.controller("RatingModalControllerDemo",["$rootScope","$scope",function(a,b){a.openRating=function(){b.$emit("openRatingModal",[])}}]);var m=angular.module("proso.apps.feedback-rating",["ui.bootstrap","proso.apps.gettext"]);m.controller("RatingModalController",["$scope","$rootScope","$modal",function(a,b,c){a.open=function(){a.email&&(a.feedback.email=a.email),c.open({templateUrl:"templates/feedback-rating/rating.html",controller:"RatingModalInstanceController",size:"lg",resolve:{feedback:function(){return a.feedback}}})},b.$on("openRatingModal",function(b,c){a.open()})}]),m.controller("RatingModalInstanceController",["$scope","$modalInstance","$http","$cookies","gettext",function(a,b,c,d,e){a.alerts=[],a.vote=function(b){a.answer=b,c.defaults.headers.post["X-CSRFToken"]=d.csrftoken,c.post("/feedback/rating",{value:b}).success(function(b){a.alerts.push({type:"success",msg:e("Thank you for your rating.")}),a.sending=!1}).error(function(){a.alerts.push({type:"danger",msg:e("Something wrong has happened.")}),a.sending=!1}),a.sending=!0},a.closeAlert=function(c){a.alerts.splice(c,1),b.dismiss("cancel")},a.cancel=function(){b.dismiss("cancel")}}]),m.directive("ratingModal",["$window",function(a){return{restrict:"E",controller:"RatingModalController"}}]);var m=angular.module("proso.apps.flashcards-practice",["ngCookies","proso.apps.common-config"]);m.service("practiceService",["$http","$q","configService","$cookies",function(a,b,c,d){var e=this,f=[],g=null,h=!1,i=null,j=[],k={},l=0,m=0,n={},o={};e.initSet=function(a){var b="practice."+a+".";k.set_length=c.getConfig("proso_flashcards",b+"set_length",10),k.fc_queue_size_max=c.getConfig("proso_flashcards",b+"fc_queue_size_max",1),k.fc_queue_size_min=c.getConfig("proso_flashcards",b+"fc_queue_size_min",1),k.save_answer_immediately=c.getConfig("proso_flashcards",b+"save_answer_immediately",!1),k.cache_context=c.getConfig("proso_flashcards",b+"cache_context",!1),e.setFilter({}),l=0,e.flushAnswerQueue(),e.clearQueue(),g=null,m++,n={flashcards:[],answers:[],correct:0,count:0}},e.setFilter=function(a){k.filter={contexts:[],categories:[],types:[]},angular.extend(k.filter,a)},e.getCurrent=function(){return l},e.getConfig=function(){return angular.copy(k)},e.saveAnswer=function(b,c){b&&(b.time=Date.now(),j.push(b),n.answers.push(b),n.count++,b.flashcard_id===b.flashcard_answered_id&&n.correct++),(k.save_answer_immediately||c||l>=k.set_length)&&j.length>0&&(j.forEach(function(a){a.time_gap=Math.round((Date.now()-a.time)/1e3),delete a.time}),a.defaults.headers.post["X-CSRFToken"]=d.csrftoken,a.post("/flashcards/answer/",{answers:j}).error(function(a){console.error("Problem while uploading answer",a)}),j=[])},e.flushAnswerQueue=function(){e.saveAnswer(null,!0)},e.saveAnswerToCurrentFC=function(a,b,c){if(!i)return void console.error("There is no current flashcard");var d={flashcard_id:i.id,flashcard_answered_id:a,response_time:b,direction:i.direction};c&&(d.meta=c),i.options&&(d.option_ids=[],i.options.forEach(function(a){a.id!==i.id&&d.option_ids.push(a.id)})),e.saveAnswer(d)},e.getFlashcard=function(){return g?b(function(a,b){b("Already one flashcard promised")}):(g=b.defer(),h=!1,r(),g.promise.then(function(){g=null},function(){g=null}),g.promise)},e.clearQueue=function(){f=[]},e.preloadFlashcards=function(){p()},e.getFCQueue=function(){return f},e.getAnswerQueue=function(){return j},e.getSummary=function(){return n};var p=function(){if(!(f.length>=k.fc_queue_size_min)&&(k.filter.limit=k.fc_queue_size_max-f.length,g&&!h&&k.filter.limit++,k.filter.limit=Math.min(k.filter.limit,k.set_length-l-f.length),0!==k.filter.limit)){k.filter.avoid=i?[i.id]:[],f.forEach(function(a){k.filter.avoid.push(a.id)});var b={};for(var c in k.filter)k.filter[c]instanceof Array?b[c]=JSON.stringify(k.filter[c]):b[c]=k.filter[c];k.cache_context&&(b.without_contexts=1);var e;0===j.length?e=a.get("/flashcards/practice/",{params:b}):(a.defaults.headers.post["X-CSRFToken"]=d.csrftoken,e=a.post("/flashcards/practice/",{answers:j},{params:b}),j=[]);var n=m;e.success(function(a){n===m&&(f=f.concat(a.data.flashcards),q(),f.length>0?r():console.error("No Flashcards to practice"))}).error(function(a){null!==g&&g.reject("Something went wrong while loading flashcards from backend."),console.error("Something went wrong while loading flashcards from backend.")})}},q=function(){k.cache_context&&f.forEach(function(b){b.context_id in o?"loading"!==o[b.context_id]&&(b.context=o[b.context_id]):(o[b.context_id]="loading",a.get("/flashcards/context/"+b.context_id).success(function(a){o[b.context_id]=a.data,r()}).error(function(){delete o[b.context_id],console.error("Error while loading context from backend")}))})},r=function(){if(null!==g){if(k.set_length===l)return void g.reject("Set was completed");if(f.length>0){if(k.cache_context){if("object"!=typeof o[f[0].context_id])return;f[0].context=o[f[0].context_id]}i=f.shift(),l++,h=!0,n.flashcards.push(i),g.resolve(i)}p()}}}]);var config,configServiceMock=function(){var a=this;config={proso_flashcards:{practice:{test:{set_length:10,fc_queue_size_max:1,fc_queue_size_min:1,save_answer_immediately:!1,cache_context:!1}}}},a.getConfig=function(a,b,c){if(null===config)return void console.error("Config not loaded");for(var d=config[a],e=b.split("."),f=0;f<e.length;f++)if(d=d[e[f]],"undefined"==typeof d)return c;return d},a.getOverridden=function(){return{}}};describe("Practice Service - flashcards",function(){var a,b,c,d=function(a){for(var b=[],c=0;a>c;c++)b.push(c);return b};beforeEach(module("proso.apps.flashcards-practice","ngCookies")),beforeEach(module(function(a){a.service("configService",configServiceMock)})),beforeEach(inject(function(d){a=d.get("$httpBackend"),c=d.get("$timeout"),b=d.get("practiceService")})),beforeEach(function(){for(var c=1;10>=c;c++)a.whenGET(new RegExp("/flashcards/practice/?.*limit="+c+"&.*")).respond(200,{data:{flashcards:d(c)}});b.initSet("test")}),afterEach(function(){a.verifyNoOutstandingExpectation(),a.verifyNoOutstandingRequest()}),it("should provide interface",function(){expect(b.getCurrent).toBeDefined(),expect(b.initSet).toBeDefined(),expect(b.setFilter).toBeDefined(),expect(b.saveAnswer).toBeDefined(),expect(b.saveAnswerToCurrentFC).toBeDefined(),expect(b.flushAnswerQueue).toBeDefined(),expect(b.getFlashcard).toBeDefined(),expect(b.getSummary).toBeDefined()}),it("getting first flashcard",function(){b.getFlashcard().then(function(a){expect(a).toBe(0)}),a.flush()}),it("fc_queue_size_max should change limit of loaded FC",function(){a.expectGET(new RegExp("/flashcards/practice/?.*limit=2.*")).respond(200,{data:{flashcards:d(2)}}),b.getFlashcard(),a.flush(),config.proso_flashcards.practice.test.fc_queue_size_max=5,b.initSet("test"),a.expectGET(new RegExp("/flashcards/practice/?.*limit=6.*")).respond(200,{data:{flashcards:d(6)}}),b.getFlashcard(),a.flush(),config.proso_flashcards.practice.test.set_length=config.proso_flashcards.practice.test.fc_queue_size_max=10,b.initSet("test"),a.expectGET(new RegExp("/flashcards/practice/?.*limit=10.*")).respond(200,{data:{flashcards:d(10)}}),b.getFlashcard(),a.flush(),expect(!0).toBe(!0)}),it("getting more flashcards",function(){var d=jasmine.createSpy("success");config.proso_flashcards.practice.test.fc_queue_size_max=4,config.proso_flashcards.practice.test.set_length=5,b.initSet("test"),b.getFlashcard().then(d),a.flush(),c.flush(),expect(d).toHaveBeenCalledWith(0),b.getFlashcard().then(d),c.flush(),expect(d).toHaveBeenCalledWith(1),b.getFlashcard().then(d),c.flush(),expect(d).toHaveBeenCalledWith(2),b.getFlashcard().then(d),c.flush(),expect(d).toHaveBeenCalledWith(3),b.getFlashcard().then(d),c.flush(),expect(d).toHaveBeenCalledWith(4)}),it("getting more flashcards when not loaded yet",function(){var d=jasmine.createSpy("success"),e=jasmine.createSpy("error");b.fc_queue_size_max=0,b.getFlashcard().then(d),b.getFlashcard().then(d,e),c.flush(),a.flush(),expect(d).toHaveBeenCalledWith(0),expect(e).toHaveBeenCalled(),expect(d).not.toHaveBeenCalledWith(1)}),it("reject get more FC than length",function(){var d=jasmine.createSpy("success"),e=jasmine.createSpy("error");config.proso_flashcards.practice.test.fc_queue_size_max=10,config.proso_flashcards.practice.test.set_length=3,b.initSet("test"),b.getFlashcard().then(d,e),a.flush(),c.flush(),expect(d).toHaveBeenCalledWith(0),b.getFlashcard().then(d,e),c.flush(),expect(d).toHaveBeenCalledWith(1),b.getFlashcard().then(d,e),c.flush(),expect(d).toHaveBeenCalledWith(2),expect(e).not.toHaveBeenCalled(),b.getFlashcard().then(d,e),c.flush(),expect(e).toHaveBeenCalled()}),it("current counter",function(){config.proso_flashcards.practice.test.set_length=3,config.proso_flashcards.practice.test.fc_queue_size_max=config.proso_flashcards.practice.test.fc_queue_size_min=1,b.initSet("test"),expect(b.getCurrent()).toBe(0),b.getFlashcard(),a.flush(),expect(b.getCurrent()).toBe(1),b.getFlashcard(),a.flush(),expect(b.getCurrent()).toBe(2),b.getFlashcard(),expect(b.getCurrent()).toBe(3),b.getFlashcard(),expect(b.getCurrent()).toBe(3)}),it("should work with empty flashcard list returned from server",function(){a.expectGET(/\/flashcards\/practice\/?.*/).respond(200,{data:{flashcards:[]}}),b.getFlashcard(),a.flush(),expect(b.getCurrent()).toBe(0)}),it("queue length",function(){for(var c=1;10>=c;c++)config.proso_flashcards.practice.test.fc_queue_size_max=c,b.initSet("test"),b.preloadFlashcards(),a.flush(),expect(b.getFCQueue().length).toBe(c)}),it("use of filter parameters",function(){var c={};c.types=["cosi","kdesi"],c.contexts=[71,72,33],c.categories=[15,16],c.language="xx",b.setFilter(c),a.expectGET(/\/flashcards\/practice\/\?.*categories=%5B15,16%5D.*contexts=%5B71,72,33%5D.*language=xx.*types=%5B%22cosi%22,%22kdesi%22%5D.*/).respond(200,{data:d(1)}),b.preloadFlashcards(),a.flush(),expect(b.getCurrent()).toBe(0)}),it("avoid already loaded flashcards",function(){a.expectGET(/\/flashcards\/practice\/?.*/).respond(200,{data:{flashcards:[{id:41},{id:42},{id:43}]}}),config.proso_flashcards.practice.test.fc_queue_size_max=config.proso_flashcards.practice.test.fc_queue_size_min=3,b.initSet("test"),b.preloadFlashcards(),a.flush(),a.expectGET(/\/flashcards\/practice\/?.*41,42,43.*/),b.getFlashcard(),c.flush(),a.flush(),expect(b.getCurrent()).toBe(1)}),it("should drop incoming FC after starting new set",function(){b.preloadFlashcards(),b.initSet("test"),a.flush(),expect(b.getFCQueue().length).toBe(0)});var e=function(a,b,c){for(var d=[],e=1;a>=e;e++){var f=c?1:e,g={context_id:f};b||(g.context={id:f,content:42}),d.push(g)}return d};it("if cache context - still return question with context",function(){config.proso_flashcards.practice.test.cache_context=!0,b.initSet("test"),a.expectGET(new RegExp("/flashcards/practice/?.*without_contexts.*")).respond(200,{data:{flashcards:e(2,!0,!0)}}),a.expectGET("/flashcards/context/1").respond({data:{id:1,content:42}});var d;b.getFlashcard().then(function(a){d=a}),a.flush(),c.flush(),expect(d.context).toBeDefined()}),it("if cache context - context should have correct id",function(){config.proso_flashcards.practice.test.cache_context=!0,b.initSet("test"),a.expectGET(new RegExp("/flashcards/practice/?.*without_contexts.*")).respond(200,{data:{flashcards:e(2,!0,!0)}}),a.expectGET("/flashcards/context/1").respond({data:{id:1,content:42}});var d;b.getFlashcard().then(function(a){d=a}),a.flush(),c.flush(),expect(d.context.id).toBe(d.context_id)}),it("if cache context - should load context separately",function(){config.proso_flashcards.practice.test.cache_context=!0,config.proso_flashcards.practice.test.set_length=2,b.initSet("test"),a.expectGET(new RegExp("/flashcards/practice/?.*without_contexts.*")).respond(200,{data:{flashcards:e(2,!0)}}),a.expectGET("/flashcards/context/1").respond({data:{id:1,content:42}}),a.expectGET("/flashcards/context/2").respond({data:{id:2,content:42}});var d;b.getFlashcard().then(function(a){d=a}),a.flush(),c.flush(),expect(d.context.id).toBe(d.context_id),b.getFlashcard().then(function(a){d=a}),c.flush(),expect(d.context.id).toBe(d.context_id)}),it("if cache context - should load context only once",function(){config.proso_flashcards.practice.test.cache_context=!0,b.initSet("test"),a.expectGET(new RegExp("/flashcards/practice/?.*without_contexts.*")).respond(200,{data:{flashcards:e(10,!0,!0)}}),a.expectGET("/flashcards/context/1").respond({data:{id:1,content:42}});var d,f;b.getFlashcard().then(function(a){d=a}),a.flush(),c.flush(),expect(d.context.id).toBe(d.context_id),b.getFlashcard().then(function(a){f=a}),c.flush(),expect(d.context.id).toBe(d.context_id),expect(d).not.toBe(f),expect(d.context).toBe(f.context)}),it("if not cache context - should not load context",function(){b.getFlashcard(),a.flush(),c.flush(),expect(!0).toBe(!0)})}),describe("Practice Service - answers",function(){var a,b,c,d=function(a){for(var b=[],c=0;a>c;c++)b.push({lang:"en",object_type:"fc_flashcard",direction:"xxxs",item_id:12,id:c});return b};beforeEach(module("proso.apps.flashcards-practice","ngCookies")),beforeEach(module(function(a){a.service("configService",configServiceMock)})),beforeEach(inject(function(d){a=d.get("$httpBackend"),c=d.get("$timeout"),b=d.get("practiceService")})),beforeEach(function(){for(var c=1;10>=c;c++)a.whenGET(new RegExp("/flashcards/practice/?.*limit="+c+"&.*")).respond(200,{data:{flashcards:d(c)}});b.initSet("test")}),afterEach(function(){a.verifyNoOutstandingExpectation(),a.verifyNoOutstandingRequest()}),it("flush answer queue",function(){expect(b.getAnswerQueue()).toEqual([]),b.saveAnswer(1),b.saveAnswer(2),b.saveAnswer(3),expect(b.getAnswerQueue()).toEqual([1,2,3]),a.expectPOST("/flashcards/answer/",{answers:[1,2,3]}).respond(200,"OK"),b.flushAnswerQueue(),a.flush(),expect(b.getAnswerQueue()).toEqual([]),a.expectPOST("/flashcards/answer/",{answers:[1]}).respond(200,"OK"),b.saveAnswer(1,!0),a.flush(),expect(b.getAnswerQueue()).toEqual([])}),it("save answer immediately",function(){config.proso_flashcards.practice.test.save_answer_immediately=!0,b.initSet("test"),a.expectPOST("/flashcards/answer/",{answers:[1]}).respond(200,"OK"),b.saveAnswer(1),a.flush(),expect(b.getAnswerQueue()).toEqual([]),config.proso_flashcards.practice.test.save_answer_immediately=!1,b.initSet("test"),b.saveAnswer(1),expect(b.getAnswerQueue()).toEqual([1])}),it("save answer with getting FC",function(){a.expectPOST(/\/flashcards\/practice\/?.*/,{answers:[1,2,3]}).respond(200,{data:d(1)}),b.saveAnswer(1),b.saveAnswer(2),b.saveAnswer(3),b.preloadFlashcards(),a.flush(),expect(b.getAnswerQueue()).toEqual([])}),it("save answer at the end of set",function(){config.proso_flashcards.practice.test.fc_queue_size_max=config.proso_flashcards.practice.test.set_length=5,b.initSet("test");for(var d=1;5>d;d++)b.getFlashcard(),1===d&&a.flush(),c.flush(),b.saveAnswer(d);a.expectPOST("/flashcards/answer/",{answers:[1,2,3,4,5]}).respond(200,"OK"),b.getFlashcard(),b.saveAnswer(d),a.flush(),expect(b.getAnswerQueue()).toEqual([])}),it("save answer to current flashcard",function(){config.proso_flashcards.practice.test.save_answer_immediately=!0,b.initSet("test"),b.getFlashcard(),a.flush(),a.expectPOST("/flashcards/answer/",{answers:[{flashcard_id:0,flashcard_answered_id:42,response_time:42e3,direction:"xxxs",meta:"moje meta",time_gap:0}]}).respond(200,"OK"),b.saveAnswerToCurrentFC(42,42e3,"moje meta"),a.flush(),b.getFlashcard(),a.expectPOST("/flashcards/answer/",{answers:[{flashcard_id:1,flashcard_answered_id:null,response_time:12,direction:"xxxs",meta:"moje meta",time_gap:0}]}).respond(200,"OK"),b.saveAnswerToCurrentFC(null,12,"moje meta"),a.flush(),expect(b.getAnswerQueue()).toEqual([])}),it("save answer to current flashcard without flashcard",function(){config.proso_flashcards.practice.test.save_answer_immediately=!0,b.initSet("test"),b.saveAnswerToCurrentFC(null,12,"moje meta"),expect(b.getAnswerQueue()).toEqual([])}),it("questions in summary",function(){config.proso_flashcards.practice.test.fc_queue_size_max=config.proso_flashcards.practice.test.set_length=5,b.initSet("test"),b.getFlashcard(),a.flush(),c.flush(),b.getFlashcard(),c.flush(),b.getFlashcard(),c.flush(),expect(b.getSummary().flashcards).toEqual(d(3))}),it("answers in summary",function(){config.proso_flashcards.practice.test.fc_queue_size_max=config.proso_flashcards.practice.test.set_length=5,b.initSet("test"),b.getFlashcard(),a.flush(),c.flush(),b.saveAnswerToCurrentFC(null,12,"moje meta"),b.getFlashcard(),c.flush(),b.saveAnswerToCurrentFC(1,32,"moje meta"),b.getFlashcard(),c.flush(),b.saveAnswer(123);var d=b.getSummary().answers;expect(d[0].response_time).toBe(12),expect(d[0].flashcard_answered_id).toBe(null),expect(d[1].flashcard_answered_id).toBe(1),expect(d[1].response_time).toBe(32),expect(d[2]).toBe(123)}),it("count in summary",function(){config.proso_flashcards.practice.test.fc_queue_size_max=config.proso_flashcards.practice.test.set_length=5,b.initSet("test"),expect(b.getSummary().count).toBe(0),b.getFlashcard(),a.flush(),c.flush(),b.saveAnswerToCurrentFC(null,12,"moje meta"),b.getFlashcard(),c.flush(),b.saveAnswerToCurrentFC(null,12,"moje meta"),expect(b.getSummary().count).toBe(2),b.getFlashcard(),expect(b.getSummary().count).toBe(2),c.flush(),b.saveAnswerToCurrentFC(null,12,"moje meta"),expect(b.getSummary().count).toBe(3)}),it("correct in summary",function(){config.proso_flashcards.practice.test.fc_queue_size_max=config.proso_flashcards.practice.test.set_length=5,b.initSet("test"),expect(b.getSummary().correct).toBe(0),b.getFlashcard(),a.flush(),c.flush(),b.saveAnswerToCurrentFC(null,12,"moje meta"),expect(b.getSummary().correct).toBe(0),b.getFlashcard(),c.flush(),b.saveAnswerToCurrentFC(null,12,"moje meta"),expect(b.getSummary().correct).toBe(0),b.getFlashcard(),c.flush(),b.saveAnswerToCurrentFC(2,12,"moje meta"),expect(b.getSummary().correct).toBe(1)}),it("create good time gaps",function(){config.proso_flashcards.practice.test.fc_queue_size_max=config.proso_flashcards.practice.test.set_length=2,b.initSet("test"),b.getFlashcard(),a.flush(),b.saveAnswerToCurrentFC(42,42e3,"moje meta"),b.getFlashcard();var c=Date.now()+3e3,d=spyOn(Date,"now");d.and.callFake(function(){return c}),b.saveAnswerToCurrentFC(null,12,"moje meta"),a.expectPOST("/flashcards/answer/",{answers:[{flashcard_id:0,flashcard_answered_id:42,response_time:42e3,direction:"xxxs",meta:"moje meta",time_gap:3},{flashcard_id:1,flashcard_answered_id:null,response_time:12,direction:"xxxs",meta:"moje meta",time_gap:0}]}).respond(200,"OK"),a.flush(),expect(b.getSummary().correct).toBe(0)})});var dummy,m=angular.module("proso.apps.user-login",["ui.bootstrap","proso.apps.gettext","proso.apps.user-user","angulartics","angulartics.google.analytics"]);m.controller("LoginController",["$scope","$modalInstance","signupModal","userService","gettext","$analytics",function(a,b,c,d,e,f){a.credentials={},a.alerts=[],a.cancel=function(){b.dismiss("cancel")},a.loginGoogle=function(){f.eventTrack("click",{category:"login",label:"/login/google"}),d.loginGoogle()},a.loginFacebook=function(){f.eventTrack("click",{category:"login",label:"/login/facebook"}),d.loginFacebook()},a.loginEmail=function(){f.eventTrack("click",{category:"login",label:"/login/email"}),d.login(a.credentials.name,a.credentials.password).error(a.onError)},a.openSignupModal=function(){a.cancel(),c.open()},a.signup=function(){f.eventTrack("click",{category:"signup",label:"/signup/email"}),d.signupParams(a.credentials.username,a.credentials.email,a.credentials.password,a.credentials.password_check,a.credentials.first_name,a.credentials.last_name)},a.onError=function(b){f.eventTrack("error",{category:"login",label:"error/login"}),a.alerts.push({type:b.type||"danger",msg:b.msg||e("Something wrong has happened.")})},a.closeAlert=function(b){a.alerts.splice(b,1)}}]),m.factory("signupModal",["$modal",function(a){return{open:function(){a.open({templateUrl:"templates/user-login/signup-modal.html",controller:"LoginController"})}}}]),m.factory("loginModal",["$modal",function(a){return{open:function(){a.open({templateUrl:"templates/user-login/login-modal.html",controller:"LoginController"})}}}]),m.directive("loginButton",["loginModal",function(a){return{restrict:"A",link:function(b,c){c.bind("click",function(){a.open()})}}}]),describe("User Service",function(){var a,b,c={profile:{send_emails:!0,object_type:"user_profile",id:6,"public":!1},username:"test-user",first_name:"Test",last_name:"Testik",email:"test@proso.cz",id:10},d={send_emails:!0,user:{username:"test-user",first_name:"Test",last_name:"Testik",object_type:"user",email:"test@proso.cz",id:10},object_type:"user_profile",id:6,"public":!1},e={username:d.user.username,email:d.user.email,password:"heslo",password_check:"heslo",first_name:d.user.first_name,last_name:d.user.first_name},f={error_type:"error_type",error:"error"};beforeEach(module("proso.apps.user-user")),beforeEach(inject(function(c){a=c.get("$httpBackend"),b=c.get("userService")})),afterEach(function(){a.verifyNoOutstandingExpectation(),a.verifyNoOutstandingRequest()}),it("provide basic structure",function(){expect(b.user).toBeDefined(),expect(b.error).toBeDefined(),expect(b.status).toBeDefined(),expect(b.status.logged).toBeDefined(),expect(b.status.loading).toBeDefined()}),it("logout",function(){a.expectGET("/user/profile/").respond(200,{data:d}),a.expectPOST("/user/session/").respond(200),b.loadUser(),a.flush(),expect(b.user).not.toEqual({}),a.expectGET("/user/logout/").respond(200,"OK"),b.logout(),expect(b.status.loading).toBeTruthy(),a.flush(),expect(b.status.loading).toBeFalsy(),expect(b.status.logged).toBeFalsy(),expect(b.user).toEqual({})}),it("sign up",function(){a.expectPOST("/user/signup/").respond(200,{data:d}),a.expectPOST("/user/session/").respond(200),b.signup(e),expect(b.status.loading).toBeTruthy(),a.flush(),expect(b.status.loading).toBeFalsy(),expect(b.status.logged).toBeTruthy(),expect(b.user).toEqual(jasmine.objectContaining(c)),expect(b.error).toEqual({})}),it("sign up by params",function(){a.expectPOST("/user/signup/",e).respond(200,{data:d}),a.expectPOST("/user/session/").respond(200),b.signupParams(e.username,e.email,e.password,e.password_check,e.first_name,e.last_name),expect(b.status.loading).toBeTruthy(),a.flush(),expect(b.status.loading).toBeFalsy(),expect(b.status.logged).toBeTruthy(),expect(b.user).toEqual(jasmine.objectContaining(c)),expect(b.error).toEqual({})}),it("fail sign up",function(){a.expectPOST("/user/signup/").respond(400,f),b.signup(e),expect(b.status.loading).toBeTruthy(),a.flush(),expect(b.status.loading).toBeFalsy(),expect(b.status.logged).toBeFalsy(),expect(b.error).toEqual(f)}),it("load user profile",function(){a.expectGET("/user/profile/").respond(200,{data:d}),a.expectPOST("/user/session/").respond(200),b.loadUser(),expect(b.status.loading).toBeTruthy(),a.flush(),expect(b.status.loading).toBeFalsy(),expect(b.status.logged).toBeTruthy(),expect(b.user).toEqual(jasmine.objectContaining(c))}),it("fail load user profile",function(){a.expectGET("/user/profile/").respond(404),b.loadUser(),expect(b.status.loading).toBeTruthy(),a.flush(),expect(b.status.loading).toBeFalsy(),expect(b.status.logged).toBeFalsy(),expect(b.user).toEqual({})}),it("process user",function(){a.expectPOST("/user/session/").respond(200),b.processUser(d),a.flush(),expect(b.user).toEqual(jasmine.objectContaining(c)),expect(b.status.logged).toBeTruthy()}),it("process user should not change object",function(){var c=angular.copy(d);a.expectPOST("/user/session/").respond(200),b.processUser(c),a.flush(),expect(c).toEqual(d)}),it("login",function(){a.expectPOST("/user/login/",{username:"login",password:"pass"}).respond(200,{data:d}),a.expectPOST("/user/session/").respond(200),b.login("login","pass"),expect(b.status.loading).toBeTruthy(),a.flush(),expect(b.status.loading).toBeFalsy(),expect(b.status.logged).toBeTruthy(),expect(b.user).toEqual(jasmine.objectContaining(c)),expect(b.error).toEqual({})}),it("fail login",function(){a.expectPOST("/user/login/",{username:"login",password:"pass"}).respond(400,f),b.login("login","pass"),expect(b.status.loading).toBeTruthy(),a.flush(),expect(b.status.loading).toBeFalsy(),expect(b.status.logged).toBeFalsy(),expect(b.error).toEqual(f)}),it("load session",function(){a.expectGET("/user/session/").respond(200,{data:"mySession"}),b.loadSession(),expect(b.status.loading).toBeTruthy(),a.flush(),expect(b.status.loading).toBeFalsy(),expect(b.user.session).toBe("mySession")}),it("update profile",function(){a.expectPOST("/user/profile/",{data:"profile data"}).respond(200,{data:d}),a.expectPOST("/user/session/").respond(200),b.updateProfile({data:"profile data"}),expect(b.status.loading).toBeTruthy(),a.flush(),expect(b.status.loading).toBeFalsy(),expect(b.user).toEqual(jasmine.objectContaining(c)),expect(b.error).toEqual({})}),it("fail update profile",function(){a.expectPOST("/user/profile/",{data:"profile data"}).respond(400,f),b.updateProfile({data:"profile data"}),expect(b.status.loading).toBeTruthy(),a.flush(),expect(b.status.loading).toBeFalsy(),expect(b.error).toEqual(f)}),it("update session",function(){a.expectPOST("/user/session/").respond(200),
b.updateSession(),a.flush(),expect(!0).toBe(!0)}),it("not update session twice",function(){a.expectGET("/user/profile/").respond(200,{data:d}),a.expectPOST("/user/session/").respond(200),b.loadUser(),a.flush(),a.expectGET("/user/profile/").respond(200,{data:d}),b.loadUser(),a.flush(),expect(!0).toBe(!0)}),it("not update session when not logged in",function(){a.expectGET("/user/profile/").respond(404),b.loadUser(),a.flush(),expect(!0).toBe(!0)})});var m=angular.module("proso.apps.user-user",["ngCookies"]);m.service("userService",["$http",function(a){var b=this;b.status={logged:!1,loading:!1},b.user={};var c=this.update={},d=!1;b.error={},b.init=function(){},b.signup=function(c){return b.status.loading=!0,f(),a.post("/user/signup/",c).success(function(a){e(a.data)}).error(function(a){b.error=a})["finally"](function(a){b.status.loading=!1})},b.signupParams=function(a,c,d,e,f,g){return b.signup({username:a,email:c,password:d,password_check:e,first_name:f,last_name:g})},b.loadUser=function(){return b.status.loading=!0,a.get("/user/profile/").success(function(a){e(a.data)})["finally"](function(a){b.status.loading=!1})},b.processUser=function(a){e(angular.copy(a))};var e=function(a){return a?(b.status.logged=!0,b.user.profile=a,angular.extend(b.user,a.user),angular.extend(c,{user:{first_name:b.user.first_name,last_name:b.user.last_name},send_emails:b.user.profile.send_emails,"public":b.user.profile["public"]}),delete b.user.profile.user,void(d||(b.updateSession(),d=!0))):void(b.status.logged=!1)};b.login=function(c,d){return b.status.loading=!0,f(),a.post("/user/login/",{username:c,password:d}).success(function(a){e(a.data)}).error(function(a){b.error=a})["finally"](function(a){b.status.loading=!1})},b.logout=function(){b.status.loading=!0,a.get("/user/logout/").success(function(a){g(b.user),b.status.logged=!1})["finally"](function(a){b.status.loading=!1})};var f=function(){g(b.error)},g=function(a){for(var b in a)a.hasOwnProperty(b)&&delete a[b]};b.loadUserFromJS=function(a){a.$apply(b.loadUser())},b.loadSession=function(){b.status.loading=!0,a.get("/user/session/").success(function(a){b.user.session=a.data})["finally"](function(a){b.status.loading=!1})},b.updateSession=function(){var b={locale:window.navigator.language||window.navigator.userLanguage||window.navigator.browserLanguage,display_height:window.innerHeight,display_width:window.innerWidth};try{b.time_zone=jstz.determine().name()}catch(c){console.log("JSTimeZone lib not loaded")}a.post("/user/session/",b).error(function(){console.error("Error while updating session")})},b.updateProfile=function(c){b.status.loading=!0,f(),a.post("/user/profile/",c).success(function(a){e(a.data)}).error(function(a){b.error=a})["finally"](function(a){b.status.loading=!1})},b.loginGoogle=function(){h("/login/google-oauth2/","/user/close_popup/")},b.loginFacebook=function(){h("/login/facebook/","/user/close_popup/")};var h=function(a,b){var c="height=700,width=700,left=100,top=100,resizable=yes,scrollbars=yes,toolbar=no,menubar=no,location=yes,directories=no,status=yes";a+="?next="+b,window.open(a,"popup",c)};b.init()}]),angular.module("templates/common-toolbar/toolbar.html",[]).run(["$templateCache",function(a){a.put("templates/common-toolbar/toolbar.html",'<div id="proso-toolbar">\n    <div id="config-bar-show-button" ng-click="opened = !opened" ng-hide="opened"> proso bar </div>\n\n    <div id="config-bar" ng-cloak ng-show="opened">\n        <div id="config-bar-header">\n            <span id="config-bar-hide" ng-click="opened = !opened">Close</span>\n        </div>\n        <ul id="config-bar-content">\n            <li>\n                <span ng-click="addToOverride(propertyToOverride)" class="add-to-override">+</span>\n                <input type="text" ng-model="propertyToOverride" id="config-bar-property-name" placeholder="Property Name" />\n            </li>\n            <li>\n                <span ng-click="removeOverridden(\'user\'); overridden.user = null;" class="reset">X</span>\n                <input type="number" ng-model="overridden.user" placeholder="User" ng-change="override(\'user\', overridden.user)" />\n            </li>\n            <li>\n                <span ng-click="removeOverridden(\'time\'); overridden.time= null;" class="reset">X</span>\n                <input type="text" ng-model="overridden.time" placeholder="Time" ng-change="override(\'time\', overridden.time)" />\n                <i>{{date | date:\'yyyy-MM-dd_HH:mm:ss\'}}</i>\n            </li>\n            <li ng-repeat="(name, value) in getOverridden() track by name">\n                <span class="reset" ng-click="removeOverridden(name)">X</span>\n                <input type="text" disabled class="property-name" ng-model="name" />\n                <input type="text" class="property-value" placeholder="Value" ng-model="value" ng-change="override(name, value)" />\n            </li>\n            <div class=\'section\' ng-click="loggingOpened = !loggingOpened">Logging</div>\n            <ul id="config-bar-logging" ng-cloak ng-show="loggingOpened">\n                <li ng-repeat="event in debugLog|limitTo:100" class="logging-event">\n                    <span class="level">{{ event.level }}</span>\n                    <span class="url">{{ event.url }}</span>\n                    <span class="filename">{{ event.filename }}:{{ event.line_number }}</span>\n                    <span class="message">{{ event.message }}</span>\n                </li>\n            </ul>\n        </ul>\n    </div>\n</div>\n')}]),angular.module("templates/feedback-comment/comment.html",[]).run(["$templateCache",function(a){a.put("templates/feedback-comment/comment.html",'<div class="modal-header">\n    <h3 class="modal-title">{{ "Write to us" | trans }}</h3>\n</div>\n<div class="modal-body">\n    <label>\n      {{ "Did you find a bug in the app? Do you have an improvement idea? Or any other comment? We are eager to hear anything you\'d like to tell us." | trans }}\n    </label>\n    <textarea ng-model="feedback.text" class="form-control" rows="8" ></textarea>\n    <label>\n      {{ "Your email address (optional)" | trans }}\n    </label>\n    <input type="text" ng-model="feedback.email" class="form-control"/>\n    <br>\n    <alert ng-repeat="alert in alerts" type="{{alert.type}}" close="closeAlert($index)">{{alert.msg}}</alert>\n</div>\n<div class="modal-footer">\n    <button ng-disabled="sending" class="btn btn-primary" ng-click="send()">\n      {{ "Send" | trans }}\n    </button>\n    <button class="btn btn-danger" ng-click="cancel()">\n      {{ "Close" | trans }}\n    </button>\n</div>\n\n')}]),angular.module("templates/feedback-rating/rating.html",[]).run(["$templateCache",function(a){a.put("templates/feedback-rating/rating.html",'<div class="modal-header text-center">\n    <h3 class="modal-title">{{ "How difficult are the questions?" | trans }}</h3>\n    {{ "Your answer helps us adjust difficulty of questions." | trans}}\n</div>\n<div class="rating modal-body">\n    <div class=" text-center" ng-hide="answer">\n        <a class="btn btn-lg btn-success" ng-click="vote(1)">\n            {{"Too easy" | trans }}\n        </a>\n        <a class="btn btn-lg btn-primary" ng-click="vote(2)">\n            {{ "Appropriate" | trans }}\n        </a>\n        <a class="btn btn-lg btn-danger" ng-click="vote(3)">\n            {{ "Too difficult" | trans }}\n        </a>\n        <div class="clearfix"></div>\n        <a class="pull-right dont-know" href="" ng-click="cancel()">\n            {{ "Don\'t know / Don\'t want to rate" | trans }}\n        </a>\n        <div class="clearfix"></div>\n    </div>\n    <alert ng-repeat="alert in alerts" type="{{alert.type}}" close="closeAlert($index)">{{alert.msg}}</alert>\n</div>\n<div class="modal-footer" ng-show="answer">\n    <button class="btn btn-danger" ng-click="cancel()">\n        {{ "Close" | trans }}\n    </button>\n</div>\n\n')}]),angular.module("templates/user-login/login-modal.html",[]).run(["$templateCache",function(a){a.put("templates/user-login/login-modal.html",'<div class="modal-header text-center">\n    <button type="button" class="close" ng-click="cancel()">\n        <span aria-hidden="true">&times;</span>\n    </button>\n    <h3 class="modal-title"> {{ "Sign In" | trans }} </h3>\n</div>\n<div class="modal-body">\n    <a class="btn btn-danger btn-lg btn-block"\n        track-click="login"\n        href="/login/google-oauth2/">\n        <i class="social-google"></i> {{ "via Google" | trans }}\n    </a>\n    <br>\n    <a class="btn btn-primary btn-lg btn-block"\n        track-click="login"\n        href="/login/facebook/">\n        <i class="social-facebook"></i>{{ "via Facebook" | trans }}\n    </a>\n\n    <br>\n    <hr>\n    <br>\n\n    <form role="form" ng-submit="loginEmail()">\n        <div class="form-group">\n            <input type="text" class="form-control" ng-model="credentials.username"\n            placeholder="{{ \'Username\' | trans }}">\n        </div>\n        <div class="form-group">\n            <input type="password" class="form-control" ng-model="credentials.password"\n            placeholder="{{ \'Password\' | trans }}">\n        </div>\n        <alert ng-repeat="alert in alerts" type="{{alert.type}}"\n            close="closeAlert($index)">{{alert.msg}}</alert>\n        <button ng-disabled="userService.status.loading" type="submit"\n            class="btn btn-primary btn-block btn-lg">\n            {{ \'Sign In\' | trans }}\n        </button>\n\n    </form>\n</div>\n<div class="modal-footer" >\n        <a class="btn btn-link" ng-click="openSignupModal()">\n            {{ \'Sign Up\' | trans }}\n        </a>\n\n</div>\n')}]),angular.module("templates/user-login/signup-modal.html",[]).run(["$templateCache",function(a){a.put("templates/user-login/signup-modal.html",'<div class="modal-header text-center">\n    <button type="button" class="close" ng-click="cancel()">\n        <span aria-hidden="true">&times;</span>\n    </button>\n    <h3 class="modal-title"> {{ "Sign up" | trans }} </h3>\n    <div ng-hide="success">\n        {{" and get all the benefits of registered users." | trans }}\n    </div>\n</div>\n<div class="modal-body" ng-hide="success">\n    <div ng-hide="activateEmail">\n        <a class="btn btn-danger btn-lg btn-block"\n            track-click="login"\n            href="/login/google-oauth2/">\n            <i class="social-google"></i> {{ "via Google" | trans }}\n        </a>\n        <br>\n        <a class="btn btn-primary btn-lg btn-block"\n            track-click="login"\n            href="/login/facebook/">\n            <i class="social-facebook"></i>{{ "via Facebook" | trans }}\n        </a>\n        <br>\n        <a class="btn btn-info btn-lg btn-block"\n            ng-click="activateEmail=true"\n            href="">\n            <i class="glyphicon glyphicon-envelope"></i> {{ "via E-mail" | trans }}\n        </a>\n    </div>\n\n    <form role="form" ng-show="activateEmail" ng-submit="signup()">\n        <div class="form-group">\n            <input type="email" class="form-control" ng-model="credentials.email"\n                placeholder="{{ \'E-mail\' | trans }}" required>\n        </div>\n        <div class="form-group">\n            <input type="text" class="form-control" ng-model="credentials.username"\n                placeholder="{{ \'Username\' | trans }}" required>\n        </div>\n        <div class="form-group">\n            <input type="password" class="form-control" ng-model="credentials.password"\n                placeholder="{{ \'Password\' | trans }}" required>\n        </div>\n        <div class="form-group">\n            <input type="password" class="form-control"\n                ng-model="credentials.password_check"\n                placeholder="{{ \'Password again\' | trans }}" required>\n        </div>\n        <alert ng-repeat="alert in alerts" type="{{alert.type}}"\n            close="closeAlert($index)">{{alert.msg}}</alert>\n        <button ng-disabled="userService.status.loading" type="submit" class="btn btn-primary btn-block btn-lg">\n            {{ \'Sign up\' | trans }}\n        </button>\n    </form>\n</div>\n<div class="modal-body" ng-show="success" >\n        <alert type="success">\n            {{ \'Registration was successful. You can continue to use the application.\' | trans }}\n        </alert>\n</div>\n\n')}]);
//# sourceMappingURL=proso-apps-js.min.js.map